{"version":3,"sources":["webpack:///./src/components/SimpleHeader.vue","webpack:///./src/components/SimpleHeader.vue?e02c","webpack:///./src/views/health-track/food/food-add/FoodEdit.vue","webpack:///./src/views/health-track/food/food-add/FoodEdit.vue?5cbb","webpack:///./src/views/health-track/food/food-add/FoodEdit.vue?3b98","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./src/service/food/index.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/components/SimpleHeader.vue?b338","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["class","back","name","size","goBack","rightPress","rightName","imgForward","src","alt","props","type","String","default","noback","Boolean","Function","emits","setup","ctx","router","push","path","go","emit","render","__scopeId","style","id","placeholder","oninput","title","value","timeValue","onShowPick","is-link","show_unit_picker","unitValue","fileList","accept","after-read","afterRead","max-count","onSave","loading-text","block","show","position","columns","unitolumns","onunitConfirmPicker","show_picker","onConfirmPicker","onCancelPicker","components","sHeader","route","initPickColumns","state","searchvalue","values","defaultIndex","index","console","log","query","selectdate","typeEat","currntDate","Date","dateValues","i","date","setDate","getDate","format","currentDate","types","dateString","toDateString","edit_food_name","document","getElementById","edit_food_count","edit_food_energy","length","timeValues","split","timeArr","time","url","res","code","data","myContainer","querySelector","file","status","message","content","formData","FormData","append","item","mfiles","$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","undefined","FORCED","target","proto","forced","arg","k","len","E","this","A","n","arguments","TypeError","getFoodHistoryDetail","startDietTimeDesc","endDietTimeDesc","axios","get","params","getFoodList","typeId","getBuFoodHeatListByName","insertFoodRecord","dietTimeDesc","timetype","heat","nums","unit","foodHeatId","day","post","userId","getUserId","insertDefineFoodRecord","uploadPhoto","DESCRIPTORS","defineProperty","f","FunctionPrototype","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","call","match","error","toAbsoluteIndex","toIndexedObject","HAS_SPECIES_SUPPORT","SPECIES","nativeSlice","slice","max","Math","start","end","Constructor","result","fin","constructor","Array"],"mappings":"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","file":"static/js/chunk-e042e4e8.94202fd9.js","sourcesContent":["<!--\n * 严肃声明：\n * 开源版本请务必保留此注释头信息，若删除我方将保留所有法律责任追究！\n * 本系统已申请软件著作权，受国家版权局知识产权以及国家计算机软件著作权保护！\n * 可正常分享和学习源码，不得用于违法犯罪活动，违者必究！\n * Copyright (c) 2020 陈尼克 all rights reserved.\n * 版权所有，侵权必究！\n *\n-->\n\n<template>\n  <div class=\"title-bar\">\n    <header class=\"simple-header\">\n      <p class=\"left\">\n        <van-icon name=\"arrow-left\"  size=\"22\" @click=\"goBack\" v-if=\"!back\"/>\n      </p>\n      <span class=\"simple-header-name\">{{ name }}</span>\n      <p class=\"right\">\n        <span @click=\"rightPress\" class=\"txt-right\">{{ rightName }}</span>\n        <img :src=\"imgForward\" @click=\"rightPress\" v-if=\"imgForward\" class=\"img-forward\" alt=\"\">\n      </p>\n    </header>\n  </div>\n</template>\n\n<script>\nimport {ref} from 'vue'\nimport {useRouter} from 'vue-router'\n\nexport default {\n  props: {\n    name: {\n      type: String,\n      default: ''\n    },\n    back: {\n      type: String,\n      default: ''\n    },\n    noback: {\n      type: Boolean,\n      default: false\n    },\n    rightName: {\n      type: String,\n      default: ''\n    },\n    imgForward: {\n      type: String,\n      default: '',\n    },\n    rightPress: {\n      type: Function,\n      default: () => {\n      }\n    }\n  },\n  emits: ['callback'],\n  setup(props, ctx) {\n    const back = ref(props.noback)\n    const router = useRouter()\n    const goBack = () => {\n      if (!props.back) {\n        router.go(-1)\n      } else {\n        router.push({path: props.back})\n      }\n      ctx.emit('callback')\n    }\n    return {\n      goBack,\n      back,\n    }\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n@import '../common/style/mixin';\n\n.title-bar{\n  width: 100%;\n  height:44px;\n  background: #fff;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  .border-1px(#eee);\n  .simple-header {\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    .boxSizing();\n    color: #333;\n    .left {\n      width: 33.3333%;\n      padding-left: 5px;\n      .img-back {\n        width: 20px;\n        cursor: pointer;\n      }\n    }\n\n    .right {\n      padding-right: 10px;\n      width: 33.3333%;\n      text-align: right;\n      span, img {\n        vertical-align: middle;\n        //font-size: 0;\n      }\n\n      .img-forward {\n        display: inline-block;\n        width:15px;\n        height:8px;\n      }\n\n      .txt-right {\n        margin-right: 5px;\n        color: #06B48D;\n      }\n    }\n\n    .simple-header-name {\n      font-size: 16px;\n      text-align: center;\n      width: 33.33333%;\n    }\n  }\n}\n\n</style>\n","import { render } from \"./SimpleHeader.vue?vue&type=template&id=486dd89c&scoped=true\"\nimport script from \"./SimpleHeader.vue?vue&type=script&lang=js\"\nexport * from \"./SimpleHeader.vue?vue&type=script&lang=js\"\n\nimport \"./SimpleHeader.vue?vue&type=style&index=0&id=486dd89c&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-486dd89c\"\n\nexport default script","<!--记录膳食数据-->\n<template>\n  <div class=\"edit_food_box\" :style=\"{ backgroundColor: '#F5F6F9' }\">\n    <s-header name=\"自定义食物\"></s-header>\n\n    <div class=\"div_pop_content\">\n\n      <van-cell title=\"时间选择\" :value=\"timeValue\" @click=\"onShowPick\" is-link :style=\"{ marginTop: '16px', marginBottom: '16px'}\"/>\n\n      <div class=\"div_title\">\n          <span>食物名称</span>\n          <input id=\"edit_food_name\" placeholder=\"请输入食品名称\" style=\"border: 0px;width: 100px; text-align:right\" />\n      </div>\n\n      <div class=\"div_title\">\n        <span>数量</span>\n        <input oninput=\"value=value.replace(/[^\\d]/g,'')\" id=\"edit_food_count\" placeholder=\"如：1\" style=\"border: 0px;width: 100px;text-align:right\"/>\n      </div>\n\n      <van-cell title=\"单位\" @click=\"()=> show_unit_picker = true\"  :value=\"unitValue\" is-link/>\n\n      <div class=\"div_title\"  :style=\"{ marginBottom: '16px'}\">\n        <span>热量(千卡)</span>\n        <input oninput=\"value=value.replace(/[^\\d]/g,'')\" id=\"edit_food_energy\" placeholder=\"如：100\" style=\"border: 0px;width: 100px;text-align:right\"/>\n      </div>\n    </div>\n    <!--上传图片-->\n    <van-uploader v-model=\"fileList\" accept=\"image/*\" :after-read=\"afterRead\" max-count=\"1\"  :style=\"{ marginLeft: '16px'}\"/>\n    <!--保存-->\n    <van-button @click=\"onSave\" class=\"van-button--primary\" type=\"primary\" loading-text=\"加载中...\" block>提交\n    </van-button>\n\n    <!--选择单位-->\n    <van-popup v-model:show=\"show_unit_picker\"  position=\"bottom\">\n      <van-picker  :columns=\"unitolumns\" @confirm=\"onunitConfirmPicker\" @cancel=\"()=> show_unit_picker = false\"/>\n    </van-popup>\n    <!--选择食物所属加餐弹出框-->\n    <van-popup v-model:show=\"show_picker\"  position=\"bottom\">\n      <van-picker  :columns=\"columns\" @confirm=\"onConfirmPicker\" @cancel=\"onCancelPicker\"/>\n    </van-popup>\n  </div>\n\n</template>\n\n<script>\n  import sHeader from '@/components/SimpleHeader'\n  import { Toast } from 'vant'\n  import {reactive, onMounted, toRefs, toRaw} from 'vue'\n  import moment from \"moment\";\n  import {useRoute, useRouter} from \"vue-router\";\n  import {insertDefineFoodRecord,uploadPhoto} from \"@/service/food\";\n  import {dayTimeType, formatYYMMDD, formatYYMMDDHHMMSS} from \"@/utils/util\";\n\n  export default {\n    components: {\n      sHeader,\n    },\n    props: {},\n    setup() {\n      const route = useRoute()\n      const router = useRouter()\n\n      onMounted(\n        () => {\n          initPickColumns()\n        }\n      )\n\n      // 通过reactive 可以初始化一个可响应的数据，与Vue2.0中的Vue.observer很相似\n      const state = reactive({\n        show_picker: false, // 选择加餐和日期\n        show_unit_picker: false,\n        timeValue: \"\",// 时间选择\n        unitValue: \"克\", // 单位\n        searchvalue: '',\n        show: false,\n        unitolumns: ['克','毫升'],\n        columns: [\n          // 第一列\n          {\n            values: [],\n            defaultIndex: 2,\n          },\n          // 第二列\n          {\n            values: ['早餐', '午餐', '晚餐', '加餐'],\n            defaultIndex: 1,\n          },\n        ],\n        fileList: []\n      })\n      const onunitConfirmPicker = (value, index) => {\n        state.unitValue = value\n        state.show_unit_picker = false\n      }\n      const onShowPick = () => {\n        state.show_picker = true\n      }\n\n      const onCancelPicker = () => {\n        state.show_picker = false;\n\n      };\n      const onConfirmPicker = (value, index) => {\n        console.log(\"onConfirmPicker\",value)\n        state.timeValue = `${value[0]}，${value[1]}`;\n        state.show_picker = false;\n\n\n      };\n\n      // 初始化选择日期和加餐的\n      const initPickColumns = () => {\n        const { query: { selectdate, typeEat } } = route\n        console.log('初始化数据',selectdate)\n        const currntDate = new Date(selectdate)\n        //  赋值弹出框\n        const dateValues = []\n        dateValues.push(\"今天\")\n        for (let i = 0; i < 6 ; i++) {\n          let date = new Date(currntDate.setDate(currntDate.getDate() - 1))\n          dateValues.push(moment(date). format('YYYY-MM-DD'))\n        }\n\n        const currentDate = new Date(selectdate)\n        const types =  toRaw(state.columns[1].values)\n        state.columns[0].values = dateValues\n        const dateString = new Date().toDateString() === currentDate.toDateString() ? \"今天\" : moment(currentDate). format('YYYY-MM-DD')\n        state.timeValue =  dateString  +\",\"+ types[typeEat]\n        console.log(\"dateValues\",dateString,new Date().toDateString() === currentDate.toDateString())\n      }\n\n      /**\n       * 保存\n       */\n      const onSave = async () => {\n        const { query: { selectdate } } = route\n\n\n        const edit_food_name = document.getElementById(\"edit_food_name\")\n        const edit_food_count = document.getElementById(\"edit_food_count\")\n        const edit_food_energy = document.getElementById(\"edit_food_energy\")\n        const { timeValue, unitValue } = state\n        if(!edit_food_name.value){\n          Toast('名字不能为空');\n          return\n        }else if(!edit_food_count.value){\n          Toast('数量不能为空');\n          return\n        }else if(!edit_food_energy.value){\n          Toast('热量不能为空');\n          return\n        }else if(state.fileList.length === 0){\n          Toast('请上传自定义食物图片');\n          return\n        }\n        const timeValues = state.timeValue.split(\",\")\n        console.log(\"  dayTimeType[`${ state.timeValue[1]}`]\", state.timeValue,  dayTimeType[`${ timeValues[1]}`])\n        const timeArr = state.timeValue.split(\",\")\n        const time = timeArr[0] === \"今天\"  ? new Date() :  timeArr[0]\n        const res = await insertDefineFoodRecord( formatYYMMDDHHMMSS(time),\n            dayTimeType[`${ timeValues[1]}`],edit_food_name.value,edit_food_energy.value,\n            edit_food_count.value, unitValue,state.fileList[0].url,formatYYMMDD(time))\n        const { code, data } = res\n        if(code === 200){\n          Toast(\"添加成功\")\n          router.go(-1)\n        }else{\n          Toast(\"添加失败\")\n        }\n\n      };\n      const myContainer = document.querySelector('.my-container');\n      const afterRead = async (file) => {\n        file.status = 'uploading';\n        file.message = '上传中...';\n        console.log(\"file\",file)\n        let content = file.file;\n        let formData = new FormData();\n        formData.append('file',content);\n        const res = await uploadPhoto(formData)\n        const { code, data } = res\n        if(code === 200){\n          file.status = 'done '\n          file.message = '上传成功';\n          const item = { url: data }\n          const mfiles = []\n          mfiles.push(item)\n          state.fileList = mfiles\n        }else{\n          file.status = 'uploading';\n          file.message = '上传失败';\n        }\n      };\n      // 在Vue3.0中，所有的数据和方法都通过在setup 中 return 出去，然后在template中使用\n      return {\n        ...toRefs(state),\n        onSave,\n        myContainer,\n        afterRead,\n        onCancelPicker,\n        onConfirmPicker,\n        onShowPick,\n        onunitConfirmPicker\n      }\n    }\n  }\n</script>\n\n<style  lang=\"less\">\n      .edit_food_box{\n        height: 100%;\n        .van-cell__value{\n          color: #333;\n        }\n        .van-uploader__input{\n          border: 2px solid #00bc88;\n          opacity: 100;\n          border-radius: 10px\n        }\n        .van-uploader__upload-icon {\n          color: #06B48D;\n        }\n      }\n      .div_title {\n        padding: 10px 16px;\n        background: #FFFFFF;\n        align-items: center;\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n\n        span {\n            font-family: PingFangSC-Regular;\n            font-size: 14px;\n            color: #333;\n        }\n\n        input {\n            font-family: PingFangSC-Regular;\n            font-size: 14px;\n            color: #333;\n\n        }\n    }\n\n    .div_list {\n        background-color: #F2F4F8;\n        overflow-y: scroll;\n        height: calc(100vh - 140px)\n    }\n\n    .div_list_item {\n        background-color: #FFFFFF;\n        display: flex;\n        justify-content: space-between;\n        border-bottom: 1px solid #EEEEEE;\n        padding: 10px;\n        align-items: center;\n    }\n\n    .img_item_left {\n        height: 34px;\n        width: 34px;\n        border-radius: 6px;\n    }\n\n    .span_item_title {\n        font-family: PingFangSC-Regular;\n        font-size: 13px;\n        color: #666666;\n    }\n\n    .span_item_des {\n        font-family: PingFangSC-Regular;\n        font-size: 13px;\n        color: #666666;\n    }\n\n    .van-button--primary {\n        color: #fff;\n        background-color: #06B48D;\n        border: 1px solid #06B48D;\n        position: absolute;\n        bottom: 0px;\n    }\n\n    .div_pop_content {\n        background-color: #F5F6F9;\n    }\n\n    .div_pop_content_title {\n        height: 40px;\n        justify-content: center;\n        align-items: center;\n        display: flex;\n        border-bottom: 1px solid #EEEEEE;\n        background-color: #FFFFFF;\n\n        span {\n            font-family: PingFangSC-Regular;\n            font-size: 14px;\n            color: #06B48D;\n        }\n    }\n\n    .div_pop_content_unit {\n        height: 40px;\n        justify-content: center;\n        align-items: center;\n        display: flex;\n        flex-direction: column;\n        background-color: #FFFFFF;\n\n        span {\n            font-family: PingFangSC-Regular;\n            font-size: 18px;\n            color: #06B48D;\n        }\n\n        .div_line {\n            height: 3px;\n            width: 40px;\n            background-color: #06B48D;\n            margin-top: 2px;\n        }\n    }\n\n</style>\n","import { render } from \"./FoodEdit.vue?vue&type=template&id=164914dd\"\nimport script from \"./FoodEdit.vue?vue&type=script&lang=js\"\nexport * from \"./FoodEdit.vue?vue&type=script&lang=js\"\n\nimport \"./FoodEdit.vue?vue&type=style&index=0&id=164914dd&lang=less\"\nscript.render = render\n\nexport default script","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./FoodEdit.vue?vue&type=style&index=0&id=164914dd&lang=less\"","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.es/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  concat: function concat(arg) {\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","/**\n * 严肃声明：\n * 开源版本请务必保留此注释头信息，若删除我方将保留所有法律责任追究！\n * 本系统已申请软件著作权，受国家版权局知识产权以及国家计算机软件著作权保护！\n * 可正常分享和学习源码，不得用于违法犯罪活动，违者必究！\n * Copyright (c) 2020 陈尼克 all rights reserved.\n * 版权所有，侵权必究！\n */\n\nimport axios, {BASEURL} from '../../utils/axios'\nimport {getUserId} from \"@/utils/util\";\n\n\n/**\n * 当日饮食界面详情\n * @returns {*}\n */\n\nexport function getDayFoodDetial(startDietTimeDesc,endDietTimeDesc) {\n  return axios.get(`/monitor/health/eat/syLogFoodHeatHistory/getFoodHeatHistoryDetail`,{ params: {\n      startDietTimeDesc, endDietTimeDesc\n    }});\n}\n\n// 历史数据\nexport function getFoodHistoryDetail(startDietTimeDesc,endDietTimeDesc) {\n    return axios.get(`/monitor/health/eat/syLogFoodHeatHistory/getFoodHistoryDetail`,{ params: {\n            startDietTimeDesc, endDietTimeDesc\n        }});\n}\n\n/**\n * 常见食物列表\n * @param typeId\n * @returns {*}\n */\nexport function getFoodList(typeId) {\n  return axios.get(`/monitor/health/food/foodHeat/getCommonFoodHeatList`);\n}\n\n/**\n * 搜索\n * @returns {*}\n */\nexport function getBuFoodHeatListByName(name) {\n  return axios.get(`/monitor/health/food/foodHeat/getBuFoodHeatListByName?name=`+name);\n}\n\n\n// 添加饮食记录\nexport function insertFoodRecord(dietTimeDesc,timetype,name,heat,nums,unit,foodHeatId,url,day){\n\n    console.log('添加饮水记录',...arguments)\n    return axios.post(\"/monitor/health/eat/syLogFoodHeatHistory/insert\",{\n        dietTimeDesc,timetype,name,heat,nums,unit,foodHeatId,url,userId: getUserId(),day\n    })\n}\n// 添加自定义食物饮食记录\n    export function insertDefineFoodRecord(dietTimeDesc,timetype,name,heat,nums,unit,url,day){\n\n        console.log('添加饮水记录',...arguments)\n        return axios.post(\"/monitor/health/eat/syLogFoodHeatHistory/insert\",{\n            dietTimeDesc,timetype,name,heat,nums,unit,url,userId: getUserId(),day\n        })\n    }\n\n export function uploadPhoto (data){\n            console.log('添加饮水记录',...arguments)\n    return axios.post(\"/monitor/uploadController/perfect/uploadPhoto\",data)\n}\n","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SimpleHeader.vue?vue&type=style&index=0&id=486dd89c&lang=less&scoped=true\"","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}