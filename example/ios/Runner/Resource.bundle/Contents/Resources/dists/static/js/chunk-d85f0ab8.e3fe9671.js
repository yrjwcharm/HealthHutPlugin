(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d85f0ab8"],{"053e":function(e,t,n){"use strict";n("32be")},"0eaf":function(e,t,n){"use strict";n("b0c0");var a=n("7a23"),c={class:"title-bar"},r={class:"simple-header"},o={class:"left"},l={class:"simple-header-name"},i={class:"right"},s=["src"];function u(e,t,n,u,d,p){var b=Object(a["resolveComponent"])("van-icon");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",c,[Object(a["createElementVNode"])("header",r,[Object(a["createElementVNode"])("p",o,[u.back?Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(b,{key:0,name:"arrow-left",size:"22",onClick:u.goBack},null,8,["onClick"]))]),Object(a["createElementVNode"])("span",l,Object(a["toDisplayString"])(n.name),1),Object(a["createElementVNode"])("p",i,[Object(a["createElementVNode"])("span",{onClick:t[0]||(t[0]=function(){return n.rightPress&&n.rightPress.apply(n,arguments)}),class:"txt-right"},Object(a["toDisplayString"])(n.rightName),1),n.imgForward?(Object(a["openBlock"])(),Object(a["createElementBlock"])("img",{key:0,src:n.imgForward,onClick:t[1]||(t[1]=function(){return n.rightPress&&n.rightPress.apply(n,arguments)}),class:"img-forward",alt:""},null,8,s)):Object(a["createCommentVNode"])("",!0)])])])}var d=n("6c02"),p={props:{name:{type:String,default:""},back:{type:String,default:""},noback:{type:Boolean,default:!1},rightName:{type:String,default:""},imgForward:{type:String,default:""},rightPress:{type:Function,default:function(){}}},emits:["callback"],setup:function(e,t){var n=Object(a["ref"])(e.noback),c=Object(d["d"])(),r=function(){e.back?c.push({path:e.back}):c.go(-1),t.emit("callback")};return{goBack:r,back:n}}};n("fb65");p.render=u,p.__scopeId="data-v-486dd89c";t["a"]=p},"2bdd9":function(e,t,n){},"30bf":function(e,t,n){"use strict";var a=n("7a23"),c=function(e){return Object(a["pushScopeId"])("data-v-66886ab4"),e=e(),Object(a["popScopeId"])(),e},r={class:"div_changedate_content"},o=c((function(){return Object(a["createElementVNode"])("svg",{"aria-hidden":"true",class:"svg_left"},[Object(a["createElementVNode"])("use",{"xlink:href":"#icon-goback"})],-1)})),l=[o],i={class:"span_date"},s=c((function(){return Object(a["createElementVNode"])("svg",{"aria-hidden":"true",class:"svg_left"},[Object(a["createElementVNode"])("use",{"xlink:href":"#icon-Fill"})],-1)})),u=[s];function d(e,t,n,c,o,s){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",r,[Object(a["createElementVNode"])("div",{onClick:t[0]||(t[0]=function(){return c.left&&c.left.apply(c,arguments)})},l),Object(a["createElementVNode"])("span",i,Object(a["toDisplayString"])("day"==n.type?c.moment(n.selectdate).format("YYYY年MM月DD日"):"week"==n.type?c.moment(new Date(n.selectdate).setDate(new Date(n.selectdate).getDate()-7)).format("YYYY/MM/DD")+"-"+c.moment(n.selectdate).format("YYYY/MM/DD"):"month"==n.type?c.moment(new Date(n.selectdate).setMonth(new Date(n.selectdate).getMonth()-1)).format("YYYY/MM/DD")+"-"+c.moment(n.selectdate).format("YYYY/MM/DD"):"year"==n.type?c.moment(new Date(n.selectdate).setFullYear(new Date(n.selectdate).getFullYear()-1)).format("YYYY/MM/DD")+"-"+c.moment(n.selectdate).format("YYYY/MM/DD"):""),1),Object(a["createElementVNode"])("div",{onClick:t[1]||(t[1]=function(){return c.right&&c.right.apply(c,arguments)})},u)])}var p=n("5530"),b=n("c1df"),m=n.n(b),f={name:"ChangeDate",props:{selectdate:{type:Date,default:new Date},onchange:{type:Function,default:function(){}},type:{type:String,default:"day"}},components:{},setup:function(e){Object(a["onMounted"])((function(){}));var t=Object(a["reactive"])({}),n=function(){var t,n=new Date(e.selectdate);t="week"==e.type?n.setDate(n.getDate()-7):"month"==e.type?n.setMonth(n.getMonth()-1):"year"==e.type?n.setFullYear(n.getFullYear()-1):n.setDate(n.getDate()-1),t.valueOf()<(new Date).valueOf()&&e.onchange(t)},c=function(){var t,n=new Date(e.selectdate);t="week"==e.type?n.setDate(n.getDate()+7):"month"==e.type?n.setMonth(n.getMonth()+1):"year"==e.type?n.setFullYear(n.getFullYear()+1):n.setDate(n.getDate()+1),t.valueOf()<(new Date).valueOf()&&e.onchange(t)};return Object(p["a"])(Object(p["a"])({},Object(a["toRefs"])(t)),{},{left:n,right:c,moment:m.a})}};n("726e");f.render=d,f.__scopeId="data-v-66886ab4";t["a"]=f},"32be":function(e,t,n){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var a=n("1d80"),c=n("5899"),r="["+c+"]",o=RegExp("^"+r+r+"*"),l=RegExp(r+r+"*$"),i=function(e){return function(t){var n=String(a(t));return 1&e&&(n=n.replace(o,"")),2&e&&(n=n.replace(l,"")),n}};e.exports={start:i(1),end:i(2),trim:i(3)}},7156:function(e,t,n){var a=n("861d"),c=n("d2bb");e.exports=function(e,t,n){var r,o;return c&&"function"==typeof(r=t.constructor)&&r!==n&&a(o=r.prototype)&&o!==n.prototype&&c(e,o),e}},"726e":function(e,t,n){"use strict";n("a54f")},"8fb2":function(e,t,n){},"90d6":function(e,t,n){"use strict";n.r(t);var a=n("7a23");function c(e,t,n,c,r,o){var l=Object(a["resolveComponent"])("s-header"),i=Object(a["resolveComponent"])("FoodRecord"),s=Object(a["resolveComponent"])("van-tab"),u=Object(a["resolveComponent"])("van-tabs");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["createVNode"])(l,{name:"历史数据"}),Object(a["createVNode"])(u,{background:"#F5F6FE",color:"#1baeae","title-active-color":"#1baeae",modelValue:e.status,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.status=t})},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(s,{title:"周"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(i,{type:"week"})]})),_:1}),Object(a["createVNode"])(s,{title:"月"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(i,{type:"month"})]})),_:1}),Object(a["createVNode"])(s,{title:"年"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(i,{type:"year"})]})),_:1})]})),_:1},8,["modelValue"])],64)}var r=n("5530"),o=n("0eaf"),l=function(e){return Object(a["pushScopeId"])("data-v-2ebcb06c"),e=e(),Object(a["popScopeId"])(),e},i={style:{backgroundColor:"#F5F6FE",height:"100vh",display:"flex",flexDirection:"column",paddingBottom:"10px"}},s={class:"margin_box",style:{marginTop:"10px",paddingTop:"5px"}},u={class:"week_drink_num"},d=l((function(){return Object(a["createElementVNode"])("p",null,"平均日消耗热量",-1)})),p={class:"d_h_r_item"},b={class:"span_drinkadd_title"},m=l((function(){return Object(a["createElementVNode"])("label",{class:"lable_item"},"图形分析:",-1)})),f={class:"margin_box scroll_box",style:{borderTopLeftRadius:0,borderTopRightRadius:0}};function O(e,t,n,c,r,o){var l=Object(a["resolveComponent"])("change-date"),O=Object(a["resolveComponent"])("van-switch"),j=Object(a["resolveComponent"])("HistoryRecord"),y=Object(a["resolveComponent"])("LineECharts");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",i,[Object(a["createElementVNode"])("div",s,[Object(a["createVNode"])(l,{style:{backgroundColor:"#fff"},selectdate:e.selectdate,type:n.type,onchange:c.onchange},null,8,["selectdate","type","onchange"]),Object(a["createElementVNode"])("div",u,[Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(e.sumCount)+"千卡",1),d])]),Object(a["createElementVNode"])("div",p,[Object(a["createElementVNode"])("span",b,Object(a["toDisplayString"])(e.title),1),m,Object(a["createVNode"])(O,{modelValue:e.checked,"onUpdate:modelValue":[t[0]||(t[0]=function(t){return e.checked=t}),c.onUpdateValue],size:"16px","active-color":"#15AC78","inactive-color":"#dcdee0"},null,8,["modelValue","onUpdate:modelValue"])]),Object(a["createElementVNode"])("div",f,[e.checked?e.checked?(Object(a["openBlock"])(),Object(a["createBlock"])(y,{key:1,list:"year"===n.type?e.yearLineList:e.list},null,8,["list"])):Object(a["createCommentVNode"])("",!0):(Object(a["openBlock"])(),Object(a["createBlock"])(j,{key:0,list:e.list,type:n.type,toYearDetial:c.toYearDetial},null,8,["list","type","toYearDetial"]))])])}var j=n("1da1"),y=(n("159b"),n("b64b"),n("d81d"),n("a9e3"),n("13d5"),n("b680"),n("96cf"),n("c1df")),v=n.n(y),g=n("30bf"),h={class:"his_record_box"},k={key:0},N={class:"list_record"},D=Object(a["createElementVNode"])("span",null,"运动总时长",-1),V=Object(a["createTextVNode"])(),E=Object(a["createElementVNode"])("span",null,"热量总消耗",-1),Y=Object(a["createTextVNode"])(),S=Object(a["createElementVNode"])("span",null,"总步数",-1),w=Object(a["createTextVNode"])(),x=Object(a["createElementVNode"])("span",null,"总距离",-1),C=Object(a["createTextVNode"])(),_=Object(a["createTextVNode"])(),B={key:1};function M(e,t,n,c,r,o){var l=Object(a["resolveComponent"])("van-collapse-item"),i=Object(a["resolveComponent"])("van-collapse"),s=Object(a["resolveComponent"])("van-cell");return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",h,["year"!==n.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",k,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.list,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:t,modelValue:e.active,"onUpdate:modelValue":function(t){return e.active=t},accordion:""},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(l,{title:e["date"],name:1},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",N,[Object(a["createElementVNode"])("div",null,[D,V,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e["sportTimeSum"]),1)]),Object(a["createElementVNode"])("div",null,[E,Y,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e["heatSum"])+"千卡",1)]),Object(a["createElementVNode"])("div",null,[S,w,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e["stepNumberSum"])+"步",1)]),Object(a["createElementVNode"])("div",null,[x,C,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(e["distanceSum"])+"米",1)]),(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e["list"],(function(e,t){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",{class:"list_record",key:t},[Object(a["createElementVNode"])("div",null,[Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(c.getSportName(e["sportType"])),1),_,Object(a["createElementVNode"])("span",null,Object(a["toDisplayString"])(c.getSportTime(e["sportTime"])),1)])])})),128))])]})),_:2},1032,["title"])]})),_:2},1032,["modelValue","onUpdate:modelValue"])})),128))])):"year"==n.type?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",B,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(n.list,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])(s,{title:e["yearDate"],key:t,"is-link":"",onClick:function(t){return n.toYearDetial(e)}},null,8,["title","onClick"])})),128))])):Object(a["createCommentVNode"])("",!0)])}var F=n("ca00"),T=n("5502"),I={name:"index",props:{list:Array,type:String,toYearDetial:Function},setup:function(e){var t=Object(T["b"])(),n=Object(a["reactive"])({}),c=function(e){return Object(F["b"])(e)},o=function(e){return console.log("sportTypeObj",e),console.log("sportTypeObj",t.state.sportTypeObj["".concat(Number(e))]),t.state.sportTypeObj["".concat(e)]},l=function(){};return Object(r["a"])(Object(r["a"])({},Object(a["toRefs"])(n)),{},{onLoad:l,getSportTime:c,getSportName:o})}};n("053e");I.render=M;var L=I;function R(e,t,n,c,r,o){var l=Object(a["resolveComponent"])("v-chart");return Object(a["openBlock"])(),Object(a["createElementBlock"])(a["Fragment"],null,[Object(a["withDirectives"])(Object(a["createElementVNode"])("div",null,Object(a["toDisplayString"])(e.option.series[0].data[0]||""),513),[[a["vShow"],!1]]),Object(a["createVNode"])(l,{class:"chart",option:e.option},null,8,["option"])],64)}var A=n("ade3"),H=n("22b4"),U=n("f95e"),P=n("3620"),G=n("9394"),J=n("2da7"),z=n("ff32"),W=n("5c7f");Object(H["a"])([U["a"],P["a"],G["a"],J["a"],z["a"]]);var X=Object(a["defineComponent"])({name:"HelloWorld",components:{VChart:W["b"]},props:{list:Array},provide:Object(A["a"])({},W["a"],"White"),setup:function(e){Object(a["onMounted"])((function(){var n=e.list;console.log("list11111",n[0]);for(var a=0;a<n.length;a++)t.value.xAxis.data.push(n[a].date),t.value.series[0].data.push(n[a]["sportTimeSum"]),t.value.series[1].data.push(n[a]["stepNumberSum"]),t.value.series[2].data.push(n[a]["distanceSum"]);console.log(t.value.series)}));var t=Object(a["ref"])({title:{text:""},tooltip:{trigger:"axis"},legend:{data:["热量(清卡)","步数(步)","距离(米)"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:[]},yAxis:{type:"value"},series:[{name:"热量(清卡)",type:"line",stack:"总量",data:[]},{name:"步数(步)",type:"line",stack:"总量",data:[]},{name:"距离(米)",type:"line",stack:"总量",data:[]}]});return{option:t}}});n("d19b");X.render=R,X.__scopeId="data-v-0371da2a";var q=X,$=n("6c02"),K=n("f4af"),Q={name:"momtion-record",components:{ChangeDate:g["a"],HistoryRecord:L,LineECharts:q},props:{type:{default:"week",type:String}},setup:function(e){var t=Object($["d"])(),n=Object(T["b"])();Object(a["onMounted"])((function(){o(),c(),d.title="week"===e.type?"本周数据":"month"===e.type?"本月数据":"本年数据"}));var c=function(){var e=Object(j["a"])(regeneratorRuntime.mark((function e(){var t,a,c,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(K["c"])();case 2:t=e.sent,a=t.code,c=t.data,r=void 0===c?[]:c,200===a&&n.commit("sportList",r),o=Object(F["f"])(r),n.commit("sportTypeObj",o);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var n,a,c,o,u,p,b;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=s(e.type),t.next=3,Object(K["d"])(n,Object(F["c"])(d.selectdate));case 3:a=t.sent,c=a.code,o=a.data,u=void 0===o?{}:o,p=u,200===c&&(b=[],Object.keys(p).forEach((function(e){var t=p[e],n=0,a=0,c=0,o=0;console.log("item",t),t.map((function(e){c+=e.heat,o+=e.sportTime,n+=e["stepNumber"],a+=e["distance"]}));var l=Object(r["a"])({heatSum:c,stepNumberSum:n,distanceSum:a,sportTimeSum:Object(F["b"])(o),list:t,date:v()(Number(e)).format("YYYY-MM-DD")},t);console.log("mDatemDatemDatemDate",l),l.yearDate=v()(Number(e)).format("YYYY-MM"),b.push(l)})),"year"===e.type&&(d.yearLineList=b),d.list="year"===e.type?l(b):b,d.sumCount=i(b,"week"===e.type?7:"year"===e.type?365:30),console.log("获取食物列表---\x3e",b));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=function(e){for(var t=[],n=e,a=[],c=0;c<n.length;c++)if(-1===a.indexOf(n[c].yearDate))t.push({yearDate:n[c].yearDate,origin:[n[c]]}),a.push(n[c].yearDate);else for(var r=0;r<t.length;r++)if(t[r].yearDate==n[c].yearDate){t[r].origin.push(n[c]);break}return console.log("年数据处理------",t),t},i=function(e,t){var n=[];e.map((function(e){n.push(Number(e.heatSum))}));var a=n.reduce((function(e,t){return e+t}),0),c=a/t||0;return c.toFixed(2)},s=function(e){var t="";if(d.endDate)return v()(d.endDate).format("YYYY-MM-DD");var n=new Date(d.selectdate);switch(e){case"week":t=n.setDate(n.getDate()-7);break;case"month":t=n.setMonth(n.getMonth()-1);break;case"year":t=n.setFullYear(n.getFullYear()-1);break}return v()(t).format("YYYY-MM-DD")},u=function(e){var n=JSON.stringify(e);t.push({path:"/year-momtion-detial-list",query:{itemJson:n},title:"year-food-detial-list"})},d=Object(a["reactive"])({yearLineList:[],SportList:[],endDate:void 0,todo:"",sumCount:0,selectdate:new Date,list:[],title:"本周数据",checked:!1}),p=function(e){d.checked=e},b=function(e){d.endDate=e,o()};return Object(r["a"])(Object(r["a"])({},Object(a["toRefs"])(d)),{},{onchange:b,onUpdateValue:p,toYearDetial:u})}};n("d2c3");Q.render=O,Q.__scopeId="data-v-2ebcb06c";var Z=Q,ee={name:"index",components:{FoodRecord:Z,sHeader:o["a"]},setup:function(){Object(a["onMounted"])((function(){}));var e=Object(a["reactive"])({todo:""}),t=Object(a["ref"])(2);return Object(r["a"])(Object(r["a"])({},Object(a["toRefs"])(e)),{},{active:t})}};n("df13");ee.render=c,ee.__scopeId="data-v-9a5ef678";t["default"]=ee},a32f:function(e,t,n){},a54f:function(e,t,n){},a9e3:function(e,t,n){"use strict";var a=n("83ab"),c=n("da84"),r=n("94ca"),o=n("6eeb"),l=n("5135"),i=n("c6b6"),s=n("7156"),u=n("c04e"),d=n("d039"),p=n("7c73"),b=n("241c").f,m=n("06cf").f,f=n("9bf2").f,O=n("58a8").trim,j="Number",y=c[j],v=y.prototype,g=i(p(v))==j,h=function(e){var t,n,a,c,r,o,l,i,s=u(e,!1);if("string"==typeof s&&s.length>2)if(s=O(s),t=s.charCodeAt(0),43===t||45===t){if(n=s.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(s.charCodeAt(1)){case 66:case 98:a=2,c=49;break;case 79:case 111:a=8,c=55;break;default:return+s}for(r=s.slice(2),o=r.length,l=0;l<o;l++)if(i=r.charCodeAt(l),i<48||i>c)return NaN;return parseInt(r,a)}return+s};if(r(j,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var k,N=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof N&&(g?d((function(){v.valueOf.call(n)})):i(n)!=j)?s(new y(h(t)),n,N):h(t)},D=a?b(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),V=0;D.length>V;V++)l(y,k=D[V])&&!l(N,k)&&f(N,k,m(y,k));N.prototype=v,v.constructor=N,o(c,j,N)}},d19b:function(e,t,n){"use strict";n("8fb2")},d2c3:function(e,t,n){"use strict";n("a32f")},df13:function(e,t,n){"use strict";n("2bdd9")},e554:function(e,t,n){},f4af:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return i}));var a=n("a27e"),c=n("ca00");function r(e,t){return a["default"].get("/monitor/health/sport/syLogSportHistory/getSportHistoryDetail",{params:{sportDateDesc:e,day:t,userId:Object(c["h"])()}})}function o(){return a["default"].get("/monitor/health/sport/sportType/getList")}function l(e,t,n,c,r){var o=[],l={sportTime:e,sportType:t,sportDateDesc:n,name:c,heat:r};return o.push(l),a["default"].post("/monitor/health/sport/syLogSportHistory/insert",o)}function i(e,t){return Object(a["default"])("/monitor/health/sport/syLogSportHistory/getSyLogSportHistoryByTime",{params:{startTime:e,endTime:t,userId:Object(c["h"])()}})}},fb65:function(e,t,n){"use strict";n("e554")}}]);
//# sourceMappingURL=chunk-d85f0ab8.e3fe9671.js.map