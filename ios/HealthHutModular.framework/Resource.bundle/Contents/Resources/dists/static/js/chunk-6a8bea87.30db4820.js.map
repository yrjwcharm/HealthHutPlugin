{"version":3,"sources":["webpack:///./src/views/health-track/weight/historyData/history/index.vue?b32a","webpack:///./src/service/weight/index.js","webpack:///./src/views/health-track/weight/historyData/index.vue?719d","webpack:///./src/views/health-track/weight/historyData/index.vue","webpack:///./src/views/health-track/weight/historyData/history/index.vue","webpack:///./src/views/health-track/weight/historyData/line-chart/index.vue","webpack:///./src/views/health-track/weight/historyData/line-chart/index.vue?f587","webpack:///./src/views/health-track/weight/historyData/history/index.vue?4736","webpack:///./src/views/health-track/weight/historyData/index.vue?d8d4","webpack:///./src/views/health-track/weight/historyData/line-chart/index.vue?6c16","webpack:///./node_modules/core-js/modules/es.array.slice.js"],"names":["getHomeDetial","measureTimeDesc","day","axios","get","params","userId","getUserId","insert","weight","height","waist","console","log","arguments","data","push","post","getListByStartEnd","startTime","endTime","name","class","active","onClickTab","tabs","title","key","type","selectTimeCall","timeType","inner","column","visible","list","item","index","accordion","child","childItem","childIndex","seeDetail","yearDate","is-link","length","lineList","style","option","series","components","VChart","props","Array","provide","setup","news","old","i","value","xAxis","date","text","tooltip","trigger","legend","grid","left","right","bottom","containLabel","toolbox","feature","saveAsImage","boundaryGap","yAxis","stack","render","__scopeId","String","router","state","timeValues","undefined","yearLineList","baseInfoList","requestHisList","formatData","res","code","obj","mAfterlist","weightArray","bmiArray","bfpArray","Object","keys","forEach","childList","arry","dayWeightArray","dayBmiArray","dayBfpArray","bmi","bfp","itemObj","format","lineDate","weightAverage","average","bmiAverage","bfpAverage","weightObj","bfpObj","bmiObj","max","valleyValue","min","BMI","bodyFat","handleYearDatas","afterData","beforeData","tempArr","indexOf","origin","j","currentTime","JSON","stringify","time","selectTime","DataValueItem","DataModal","vCell","MyLineChart","SimpleHeader","vTabs","History","$","isObject","isArray","toAbsoluteIndex","toLength","toIndexedObject","createProperty","wellKnownSymbol","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","SPECIES","nativeSlice","slice","Math","target","proto","forced","start","end","Constructor","result","n","O","this","k","fin","constructor","prototype","call"],"mappings":"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","file":"static/js/chunk-6a8bea87.30db4820.js","sourcesContent":["export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=82b1d4b4&lang=less&scoped=true\"","/**\n * 严肃声明：\n * 开源版本请务必保留此注释头信息，若删除我方将保留所有法律责任追究！\n * 本系统已申请软件著作权，受国家版权局知识产权以及国家计算机软件著作权保护！\n * 可正常分享和学习源码，不得用于违法犯罪活动，违者必究！\n * Copyright (c) 2020 陈尼克 all rights reserved.\n * 版权所有，侵权必究！\n */\n\nimport axios, {BASEURL} from '../../utils/axios'\nimport {getUserId} from \"@/utils/util\";\n\n/**\n * 当日血糖首页详情\n * @returns {*}\n */\nexport function getHomeDetial(measureTimeDesc,day) {\n  return axios.get(`/monitor/monitor/bmi/SyLogBmiHistory/getBmiDetail`,{ params: {\n      measureTimeDesc, day, userId: getUserId()\n    }});\n}\n\n/**\n * 添加\n * @returns {*}\n */\nexport function insert(measureTimeDesc,weight,height,waist,day) {\n    console.log('添加血压记录',...arguments)\n    const params = {\n        measureTimeDesc,weight,height,waist,day,userId: getUserId()\n    }\n    const data = []\n    data.push(params)\n    return axios.post(`/monitor/monitor/bmi/SyLogBmiHistory/insert`,data);\n}\n\n/**\n * 当日数据\n * @param startTime\n * @param endTime\n * @param userId\n * @returns {*}\n */\nexport function getListByStartEnd(startTime,endTime){\n    return axios.get(`/monitor/monitor/bmi/SyLogBmiHistory/getListByStartEnd`,{ params: {\n            startTime, endTime, userId: getUserId()\n        }});\n}\n\n\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=3445f535&lang=less&scoped=true\"","<template>\n  <SimpleHeader name=\"历史数据\" />\n  <v-tabs class=\"my-tabs\"  v-model:active=\"active\" @click-tab=\"onClickTab\">\n    <van-tab v-for=\"({title, key}) in tabs\" :key=\"key\"  :title=\"title\">\n      <History :type=\"key\"/>\n    </van-tab>\n  </v-tabs>\n</template>\n\n<script>\nimport { ref } from \"vue\"\nimport { Tabs } from \"vant\";\nimport History from './history'\nimport { useRouter } from \"vue-router\";\nimport SimpleHeader from \"@/components/SimpleHeader\";\n\nexport default {\n    setup(props){\n      let  router  = useRouter();\n\n      const active = ref(0);\n\n      const tabs = [\n        { title: \"周\", key: \"week\" },\n        { title: \"月\", key: \"month\" },\n        { title: \"年\", key: \"fullYear\" }\n      ]\n\n      const onClickTab = ({ title, key}) => {\n      };\n\n      return {\n        tabs,\n        active,\n        onClickTab\n      }\n    },\n    components: {\n      SimpleHeader,\n      vTabs: Tabs,\n      History\n    }\n}\n</script>\n\n<style lang=\"less\" scoped >\n    /deep/.van-tabs{\n      height: calc(100vh - 44px) !important;\n    }\n    /deep/.van-tabs__content{\n      height: calc(100vh - 88px) !important;\n      padding: 10px;\n      background: #eee !important;\n    }\n    /deep/.van-tabs__line{\n        background: #00B28B !important;\n    }\n    /deep/.van-tab__pane{\n      height: 100%;\n      overflow-y: scroll;\n      height: calc(100vh - 108px) !important;\n    }\n</style>\n","<template>\n      <selectTime @selectTime=\"selectTimeCall\" :timeType=\"type\" >\n        <template #inner >\n          <data-value-item\n              :column=\"[{title: '体重', key: 'weight' }, {title: 'BMI', key: 'BMI' }, {title: '体脂率', key: 'bodyFat' }]\"\n              :data=\"data\"\n          />\n        </template>\n      </selectTime>\n      <data-modal\n          :title=\"`本${ type === 'week' ? '周': type === 'month' ? '月' :'年'}数据`\"\n      >\n        <template #data={visible} >\n          <div v-show=\"!visible\" >\n            <div v-if=\"type=='month' || type === 'week'\">\n              <van-collapse v-for=\"(item, index) in list\" :key=\"index\" v-model=\"item.active\" accordion>\n                <van-collapse-item  :title=\"item['date']\" :name=\"1\" >\n                  <div class=\"list_record\" v-for=\"(childItem, childIndex) in item.child\" :key=\"childIndex\">\n                    <div>\n                      <span>{{ childItem['measureTimeDesc'] }}</span>\n                      <span>体重  {{ childItem['weight'] }}</span>\n                      <span>BMI  {{ childItem['bmi'] || 0 }}</span>\n                      <span>BFR {{ childItem['bfp']}}%</span>\n                    </div>\n                  </div>\n                </van-collapse-item>\n              </van-collapse>\n            </div>\n            <div v-else-if=\"type==='fullYear'\">\n              <v-cell @click=\"seeDetail(item)\" v-for=\"(item,index) in list\" :title=\"item.yearDate\" :key=\"index\" is-link  />\n            </div>\n            <div v-if=\"!list.length\" class=\"empty\" >暂无体重体脂测量记录</div>\n          </div>\n          <div v-show=\"visible\" >\n            <MyLineChart  :type=\"type\" :list=\"lineList\"/>\n          </div>\n        </template>\n      </data-modal>\n</template>\n\n<script>\nimport { reactive, toRefs, ref } from \"vue\"\nimport selectTime from \"@/components/selectCycle.vue\";\nimport DataValueItem from \"@/components/dataValueItem.vue\";\nimport DataModal from \"@/components/dataModule.vue\"\nimport {Tabs, Divider, Cell } from \"vant\";\nimport { getListByStartEnd } from \"@/service/weight\"\nimport moment from \"moment\";\nimport { useRouter } from \"vue-router\";\nimport {handleDataMinMaxAverage} from \"@/utils/util\";\nimport MyLineChart from '../line-chart'\n\nexport default {\n  props:{\n    type: String\n  },\n  setup(props){\n    let  router  = useRouter();\n    const state = reactive({\n      timeValues:undefined,\n      data:{},\n      list:[],\n      lineList:[],\n      yearLineList:[],\n      baseInfoList:[]\n    })\n\n\n    const requestHisList = async () => {\n      console.log(\"requestHisList\")\n      const res = await getListByStartEnd(formatData(state.timeValues[0]),formatData(state.timeValues[1]))\n      const { code, data} = res\n      if(code===200){\n        const  obj= data\n        let mAfterlist = []\n        let weightArray = [] //  体重\n        let bmiArray = [] // bmi值\n        let bfpArray = [] //  体脂率\n        Object.keys(obj).forEach((key)=>{\n          const childList = []\n          const arry = obj[key]\n          let dayWeightArray = []\n          let dayBmiArray = []\n          let dayBfpArray = []\n          for (let i = 0; i < arry.length; i++) {\n            arry[i]['weight'] && weightArray.push(arry[i]['weight'])\n            arry[i]['bmi'] && bmiArray.push(arry[i]['bmi'])\n            arry[i]['bpf']  && bfpArray.push(arry[i]['bfp'])\n            dayWeightArray.push(arry[i].weight)\n            dayBmiArray.push(arry[i].bmi)\n            dayBfpArray.push(arry[i].bfp)\n            const itemObj = {\n              yearDate:  moment(arry[i]['yYYYMMDD']).format(\"YYYY-MM\"),\n              date: moment(arry[i]['yYYYMMDD']).format(\"YYYY-MM-DD\"),\n              lineDate: moment(arry[i]['yYYYMMDD']).format(\"YYYY-MM-DD\") ,\n              bfp: arry[i]['bfp'],\n              measureTimeDesc: arry[i].measureTimeDesc,\n              bmi: arry[i]['bmi'],\n              weight: arry[i]['weight'],\n            }\n            childList.push(itemObj)\n            state.baseInfoList.push(itemObj)\n          }\n          mAfterlist.push({\n            weightAverage: handleDataMinMaxAverage(dayWeightArray,props.type).average || 0,\n            bmiAverage: handleDataMinMaxAverage(dayBmiArray,props.type).average || 0,\n            bfpAverage: handleDataMinMaxAverage(dayBfpArray,props.type).average || 0,\n            yearDate:  moment(arry[0]['yYYYMMDD']).format(\"YYYY-MM\"),\n            date: moment(arry[0]['yYYYMMDD']).format(\"YYYY-MM-DD\"),\n            child: childList\n          })\n        })\n        const weightObj = handleDataMinMaxAverage(weightArray,props.type) || {}\n        const bfpObj = handleDataMinMaxAverage(bfpArray,props.type) || {}\n        const bmiObj = handleDataMinMaxAverage(bmiArray,props.type) || {}\n        state.data =\n          {\n            weight: { \"peakValue\": weightObj.max , valleyValue: weightObj.min },\n            BMI: { \"peakValue\": bmiObj.max , valleyValue: bmiObj.min },\n            bodyFat: { \"peakValue\": bfpObj.max , valleyValue: bfpObj.min },\n          }\n\n        if(props.type !== \"fullYear\"){\n          state.list = mAfterlist\n        }else{\n          state.list = handleYearDatas(mAfterlist)\n        }\n        console.log(\"组合数据\",state.list)\n        // 图形分析\n        state.lineList = mAfterlist\n        console.log(\"图形分析\", state.lineList)\n      }\n    }\n\n    // 整合年数据\n    const handleYearDatas = (list) => {\n      const afterData = [] // 数组\n      const beforeData = list// 数组\n      let tempArr = [];\n      for (let i = 0; i < beforeData.length; i++) {\n        if (tempArr.indexOf(beforeData[i].yearDate) === -1) {\n          afterData.push({\n            yearDate: beforeData[i].yearDate,\n            origin: [beforeData[i]]\n          });\n          tempArr.push(beforeData[i].yearDate);\n        } else {\n          for (let j = 0; j < afterData.length; j++) {\n            if (afterData[j].yearDate == beforeData[i].yearDate) {\n              afterData[j].origin.push(beforeData[i]);\n              break;\n            }\n          }\n        }\n      }\n      console.log('年数据处理------', afterData)\n      return afterData\n    }\n\n    function selectTimeCall(currentTime){\n      console.log(\"选择返回时间\"+props.type,formatData(currentTime[0]),formatData(currentTime[1]))\n      state.timeValues = currentTime\n      requestHisList()\n    }\n\n    const seeDetail = (data) => {\n      router.push({ name: \"weightHistoryDetail\", params: { date: data.yearDate,data: JSON.stringify(data.origin)}});\n    }\n\n    const formatData = (time) => moment(time).format(\"YYYY-MM-DD\");\n    return {\n      ...toRefs(state),\n      selectTimeCall,\n      formatData,\n      seeDetail,\n    }\n  },\n  components: {\n    selectTime,\n    DataValueItem,\n    DataModal,\n    vCell: Cell,\n    MyLineChart,\n  }\n}\n</script>\n\n<style lang=\"less\" scoped >\n.list_record{\n  font-size: 13px;\n  >div{\n    width: 100%;\n    text-align: left;\n    display: flex;\n    justify-content: space-between;\n    >span{\n      flex: 1;\n    }\n  }\n}\n/deep/.van-tabs{\n  height: calc(100vh - 44px) !important;\n}\n/deep/.van-tabs__content{\n  height: calc(100vh - 88px) !important;\n  padding: 10px;\n  background: #eee !important;\n}\n/deep/.van-tabs__line{\n  background: #00B28B !important;\n}\n/deep/.van-tab__pane{\n  height: 100%;\n  overflow-y: scroll;\n  height: calc(100vh - 108px) !important;\n}\n</style>\n","<template>\n  <div :style=\"{ display: 'none'}\">{{ option.series[0].data[0] || \"\" }}</div>\n  <v-chart class=\"chart\" style=\"height: 300px; width: 320px\" :option=\"option\" />\n</template>\n\n<script>\nimport { use } from \"echarts/core\";\nimport { CanvasRenderer } from \"echarts/renderers\";\nimport { LineChart } from \"echarts/charts\";\nimport {\n  TitleComponent,\n  TooltipComponent,\n  LegendComponent\n} from \"echarts/components\";\nimport VChart, { THEME_KEY } from \"vue-echarts\";\nimport {ref, defineComponent, onMounted, watch} from \"vue\";\n\nuse([\n  CanvasRenderer,\n  LineChart,\n  TitleComponent,\n  TooltipComponent,\n  LegendComponent\n]);\n\nexport default defineComponent({\n  name: \"HelloWorld\",\n  components: {\n    VChart\n  },\n  props:{\n    list: Array\n  },\n  provide: {\n    [THEME_KEY]: \"White\"\n  },\n  setup: (props) => {\n\n    watch(()=>props.list,(news,old)=>{\n      const list = news\n      console.log(\"图形分析界面数据\",list)\n      for (let i = 0; i < list.length; i++) {\n        option.value.xAxis.data.push(list[i].date)\n        option.value.series[0].data.push(list[i]['weightAverage'])\n        option.value.series[1].data.push(list[i]['bmiAverage'])\n        option.value.series[2].data.push(list[i]['bfpAverage'])\n      }\n      console.log( \"图形分析界面option\",option)\n    })\n\n\n    const option = ref({\n      title: {\n        text: ''\n      },\n      tooltip: {\n        trigger: 'axis'\n      },\n      legend: {\n        data: ['体重', 'BMI', '体脂率', ]\n      },\n      grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true\n      },\n      toolbox: {\n        feature: {\n          saveAsImage: {}\n        }\n      },\n      xAxis: {\n        type: 'category',\n        boundaryGap: false,\n        data:[]\n        // data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日']\n      },\n      yAxis: {\n        type: 'value'\n      },\n      series: [\n        {\n          name: '体重',\n          type: 'line',\n          stack: '总量',\n          data: []\n        },\n        {\n          name: 'BMI',\n          type: 'line',\n          stack: '总量',\n          data: []\n        },\n        {\n          name: '体脂率',\n          type: 'line',\n          stack: '总量',\n          data: []\n        },\n      ]\n    });\n\n    return { option };\n  }\n});\n</script>\n\n<style scoped>\n.chart {\n  height: 400px;\n}\n</style>\n","import { render } from \"./index.vue?vue&type=template&id=aa7bf6c8&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=aa7bf6c8&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-aa7bf6c8\"\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=82b1d4b4&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=82b1d4b4&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-82b1d4b4\"\n\nexport default script","import { render } from \"./index.vue?vue&type=template&id=3445f535&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=3445f535&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3445f535\"\n\nexport default script","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=aa7bf6c8&scoped=true&lang=css\"","'use strict';\nvar $ = require('../internals/export');\nvar isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar createProperty = require('../internals/create-property');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('slice');\n\nvar SPECIES = wellKnownSymbol('species');\nvar nativeSlice = [].slice;\nvar max = Math.max;\n\n// `Array.prototype.slice` method\n// https://tc39.es/ecma262/#sec-array.prototype.slice\n// fallback for not array-like ES3 strings and DOM objects\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  slice: function slice(start, end) {\n    var O = toIndexedObject(this);\n    var length = toLength(O.length);\n    var k = toAbsoluteIndex(start, length);\n    var fin = toAbsoluteIndex(end === undefined ? length : end, length);\n    // inline `ArraySpeciesCreate` for usage native `Array#slice` where it's possible\n    var Constructor, result, n;\n    if (isArray(O)) {\n      Constructor = O.constructor;\n      // cross-realm fallback\n      if (typeof Constructor == 'function' && (Constructor === Array || isArray(Constructor.prototype))) {\n        Constructor = undefined;\n      } else if (isObject(Constructor)) {\n        Constructor = Constructor[SPECIES];\n        if (Constructor === null) Constructor = undefined;\n      }\n      if (Constructor === Array || Constructor === undefined) {\n        return nativeSlice.call(O, k, fin);\n      }\n    }\n    result = new (Constructor === undefined ? Array : Constructor)(max(fin - k, 0));\n    for (n = 0; k < fin; k++, n++) if (k in O) createProperty(result, n, O[k]);\n    result.length = n;\n    return result;\n  }\n});\n"],"sourceRoot":""}