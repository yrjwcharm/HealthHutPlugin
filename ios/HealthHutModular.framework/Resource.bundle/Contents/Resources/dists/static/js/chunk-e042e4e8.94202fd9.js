(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e042e4e8"],{"0eaf":function(e,t,n){"use strict";n("b0c0");var o=n("7a23"),a={class:"title-bar"},r={class:"simple-header"},c={class:"left"},i={class:"simple-header-name"},l={class:"right"},u=["src"];function s(e,t,n,s,d,f){var p=Object(o["resolveComponent"])("van-icon");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[Object(o["createElementVNode"])("header",r,[Object(o["createElementVNode"])("p",c,[s.back?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(p,{key:0,name:"arrow-left",size:"22",onClick:s.goBack},null,8,["onClick"]))]),Object(o["createElementVNode"])("span",i,Object(o["toDisplayString"])(n.name),1),Object(o["createElementVNode"])("p",l,[Object(o["createElementVNode"])("span",{onClick:t[0]||(t[0]=function(){return n.rightPress&&n.rightPress.apply(n,arguments)}),class:"txt-right"},Object(o["toDisplayString"])(n.rightName),1),n.imgForward?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,src:n.imgForward,onClick:t[1]||(t[1]=function(){return n.rightPress&&n.rightPress.apply(n,arguments)}),class:"img-forward",alt:""},null,8,u)):Object(o["createCommentVNode"])("",!0)])])])}var d=n("6c02"),f={props:{name:{type:String,default:""},back:{type:String,default:""},noback:{type:Boolean,default:!1},rightName:{type:String,default:""},imgForward:{type:String,default:""},rightPress:{type:Function,default:function(){}}},emits:["callback"],setup:function(e,t){var n=Object(o["ref"])(e.noback),a=Object(d["d"])(),r=function(){e.back?a.push({path:e.back}):a.go(-1),t.emit("callback")};return{goBack:r,back:n}}};n("fb65");f.render=s,f.__scopeId="data-v-486dd89c";t["a"]=f},5881:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),a={class:"edit_food_box",style:{backgroundColor:"#F5F6F9"}},r={class:"div_pop_content"},c=Object(o["createElementVNode"])("div",{class:"div_title"},[Object(o["createElementVNode"])("span",null,"食物名称"),Object(o["createElementVNode"])("input",{id:"edit_food_name",placeholder:"请输入食品名称",style:{border:"0px",width:"100px","text-align":"right"}})],-1),i=Object(o["createElementVNode"])("div",{class:"div_title"},[Object(o["createElementVNode"])("span",null,"数量"),Object(o["createElementVNode"])("input",{oninput:"value=value.replace(/[^\\d]/g,'')",id:"edit_food_count",placeholder:"如：1",style:{border:"0px",width:"100px","text-align":"right"}})],-1),l=Object(o["createElementVNode"])("div",{class:"div_title",style:{marginBottom:"16px"}},[Object(o["createElementVNode"])("span",null,"热量(千卡)"),Object(o["createElementVNode"])("input",{oninput:"value=value.replace(/[^\\d]/g,'')",id:"edit_food_energy",placeholder:"如：100",style:{border:"0px",width:"100px","text-align":"right"}})],-1),u=Object(o["createTextVNode"])("提交 ");function s(e,t,n,s,d,f){var p=Object(o["resolveComponent"])("s-header"),m=Object(o["resolveComponent"])("van-cell"),b=Object(o["resolveComponent"])("van-uploader"),h=Object(o["resolveComponent"])("van-button"),g=Object(o["resolveComponent"])("van-picker"),v=Object(o["resolveComponent"])("van-popup");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[Object(o["createVNode"])(p,{name:"自定义食物"}),Object(o["createElementVNode"])("div",r,[Object(o["createVNode"])(m,{title:"时间选择",value:e.timeValue,onClick:s.onShowPick,"is-link":"",style:{marginTop:"16px",marginBottom:"16px"}},null,8,["value","onClick"]),c,i,Object(o["createVNode"])(m,{title:"单位",onClick:t[0]||(t[0]=function(){return e.show_unit_picker=!0}),value:e.unitValue,"is-link":""},null,8,["value"]),l]),Object(o["createVNode"])(b,{modelValue:e.fileList,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.fileList=t}),accept:"image/*","after-read":s.afterRead,"max-count":"1",style:{marginLeft:"16px"}},null,8,["modelValue","after-read"]),Object(o["createVNode"])(h,{onClick:s.onSave,class:"van-button--primary",type:"primary","loading-text":"加载中...",block:""},{default:Object(o["withCtx"])((function(){return[u]})),_:1},8,["onClick"]),Object(o["createVNode"])(v,{show:e.show_unit_picker,"onUpdate:show":t[3]||(t[3]=function(t){return e.show_unit_picker=t}),position:"bottom"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{columns:e.unitolumns,onConfirm:s.onunitConfirmPicker,onCancel:t[2]||(t[2]=function(){return e.show_unit_picker=!1})},null,8,["columns","onConfirm"])]})),_:1},8,["show"]),Object(o["createVNode"])(v,{show:e.show_picker,"onUpdate:show":t[4]||(t[4]=function(t){return e.show_picker=t}),position:"bottom"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(g,{columns:e.columns,onConfirm:s.onConfirmPicker,onCancel:s.onCancelPicker},null,8,["columns","onConfirm","onCancel"])]})),_:1},8,["show"])])}var d=n("5530"),f=(n("e7e5"),n("d399")),p=n("1da1"),m=(n("96cf"),n("99af"),n("d3b7"),n("ddb0"),n("1276"),n("ac1f"),n("0eaf")),b=n("c1df"),h=n.n(b),g=n("6c02"),v=n("aad9"),j=n("ca00"),O={components:{sHeader:m["a"]},props:{},setup:function(){var e=Object(g["c"])(),t=Object(g["d"])();Object(o["onMounted"])((function(){l()}));var n=Object(o["reactive"])({show_picker:!1,show_unit_picker:!1,timeValue:"",unitValue:"克",searchvalue:"",show:!1,unitolumns:["克","毫升"],columns:[{values:[],defaultIndex:2},{values:["早餐","午餐","晚餐","加餐"],defaultIndex:1}],fileList:[]}),a=function(e,t){n.unitValue=e,n.show_unit_picker=!1},r=function(){n.show_picker=!0},c=function(){n.show_picker=!1},i=function(e,t){console.log("onConfirmPicker",e),n.timeValue="".concat(e[0],"，").concat(e[1]),n.show_picker=!1},l=function(){var t=e.query,a=t.selectdate,r=t.typeEat;console.log("初始化数据",a);var c=new Date(a),i=[];i.push("今天");for(var l=0;l<6;l++){var u=new Date(c.setDate(c.getDate()-1));i.push(h()(u).format("YYYY-MM-DD"))}var s=new Date(a),d=Object(o["toRaw"])(n.columns[1].values);n.columns[0].values=i;var f=(new Date).toDateString()===s.toDateString()?"今天":h()(s).format("YYYY-MM-DD");n.timeValue=f+","+d[r],console.log("dateValues",f,(new Date).toDateString()===s.toDateString())},u=function(){var o=Object(p["a"])(regeneratorRuntime.mark((function o(){var a,r,c,i,l,u,s,d,p;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(e.query.selectdate,a=document.getElementById("edit_food_name"),r=document.getElementById("edit_food_count"),c=document.getElementById("edit_food_energy"),n.timeValue,i=n.unitValue,a.value){o.next=10;break}return Object(f["a"])("名字不能为空"),o.abrupt("return");case 10:if(r.value){o.next=15;break}return Object(f["a"])("数量不能为空"),o.abrupt("return");case 15:if(c.value){o.next=20;break}return Object(f["a"])("热量不能为空"),o.abrupt("return");case 20:if(0!==n.fileList.length){o.next=23;break}return Object(f["a"])("请上传自定义食物图片"),o.abrupt("return");case 23:return l=n.timeValue.split(","),console.log("  dayTimeType[`${ state.timeValue[1]}`]",n.timeValue,j["a"]["".concat(l[1])]),u=n.timeValue.split(","),s="今天"===u[0]?new Date:u[0],o.next=29,Object(v["d"])(Object(j["e"])(s),j["a"]["".concat(l[1])],a.value,c.value,r.value,i,n.fileList[0].url,Object(j["c"])(s));case 29:d=o.sent,p=d.code,d.data,200===p?(Object(f["a"])("添加成功"),t.go(-1)):Object(f["a"])("添加失败");case 32:case"end":return o.stop()}}),o)})));return function(){return o.apply(this,arguments)}}(),s=document.querySelector(".my-container"),m=function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t){var o,a,r,c,i,l,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.status="uploading",t.message="上传中...",console.log("file",t),o=t.file,a=new FormData,a.append("file",o),e.next=8,Object(v["f"])(a);case 8:r=e.sent,c=r.code,i=r.data,200===c?(t.status="done ",t.message="上传成功",l={url:i},u=[],u.push(l),n.fileList=u):(t.status="uploading",t.message="上传失败");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d["a"])(Object(d["a"])({},Object(o["toRefs"])(n)),{},{onSave:u,myContainer:s,afterRead:m,onCancelPicker:c,onConfirmPicker:i,onShowPick:r,onunitConfirmPicker:a})}};n("5dbd");O.render=s;t["default"]=O},"5dbd":function(e,t,n){"use strict";n("792f")},"792f":function(e,t,n){},"99af":function(e,t,n){"use strict";var o=n("23e7"),a=n("d039"),r=n("e8b5"),c=n("861d"),i=n("7b0b"),l=n("50c4"),u=n("8418"),s=n("65f0"),d=n("1dde"),f=n("b622"),p=n("2d00"),m=f("isConcatSpreadable"),b=9007199254740991,h="Maximum allowed index exceeded",g=p>=51||!a((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),v=d("concat"),j=function(e){if(!c(e))return!1;var t=e[m];return void 0!==t?!!t:r(e)},O=!g||!v;o({target:"Array",proto:!0,forced:O},{concat:function(e){var t,n,o,a,r,c=i(this),d=s(c,0),f=0;for(t=-1,o=arguments.length;t<o;t++)if(r=-1===t?c:arguments[t],j(r)){if(a=l(r.length),f+a>b)throw TypeError(h);for(n=0;n<a;n++,f++)n in r&&u(d,f,r[n])}else{if(f>=b)throw TypeError(h);u(d,f++,r)}return d.length=f,d}})},aad9:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return s}));n("99af"),n("fb6a");var o=n("a27e"),a=n("ca00");function r(e,t){return o["default"].get("/monitor/health/eat/syLogFoodHeatHistory/getFoodHistoryDetail",{params:{startDietTimeDesc:e,endDietTimeDesc:t}})}function c(e){return o["default"].get("/monitor/health/food/foodHeat/getCommonFoodHeatList")}function i(e){return o["default"].get("/monitor/health/food/foodHeat/getBuFoodHeatListByName?name="+e)}function l(e,t,n,r,c,i,l,u,s){var d;return(d=console).log.apply(d,["添加饮水记录"].concat(Array.prototype.slice.call(arguments))),o["default"].post("/monitor/health/eat/syLogFoodHeatHistory/insert",{dietTimeDesc:e,timetype:t,name:n,heat:r,nums:c,unit:i,foodHeatId:l,url:u,userId:Object(a["h"])(),day:s})}function u(e,t,n,r,c,i,l,u){var s;return(s=console).log.apply(s,["添加饮水记录"].concat(Array.prototype.slice.call(arguments))),o["default"].post("/monitor/health/eat/syLogFoodHeatHistory/insert",{dietTimeDesc:e,timetype:t,name:n,heat:r,nums:c,unit:i,url:l,userId:Object(a["h"])(),day:u})}function s(e){var t;return(t=console).log.apply(t,["添加饮水记录"].concat(Array.prototype.slice.call(arguments))),o["default"].post("/monitor/uploadController/perfect/uploadPhoto",e)}},b0c0:function(e,t,n){var o=n("83ab"),a=n("9bf2").f,r=Function.prototype,c=r.toString,i=/^\s*function ([^ (]*)/,l="name";o&&!(l in r)&&a(r,l,{configurable:!0,get:function(){try{return c.call(this).match(i)[1]}catch(e){return""}}})},e554:function(e,t,n){},fb65:function(e,t,n){"use strict";n("e554")},fb6a:function(e,t,n){"use strict";var o=n("23e7"),a=n("861d"),r=n("e8b5"),c=n("23cb"),i=n("50c4"),l=n("fc6a"),u=n("8418"),s=n("b622"),d=n("1dde"),f=d("slice"),p=s("species"),m=[].slice,b=Math.max;o({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var n,o,s,d=l(this),f=i(d.length),h=c(e,f),g=c(void 0===t?f:t,f);if(r(d)&&(n=d.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?a(n)&&(n=n[p],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return m.call(d,h,g);for(o=new(void 0===n?Array:n)(b(g-h,0)),s=0;h<g;h++,s++)h in d&&u(o,s,d[h]);return o.length=s,o}})}}]);
//# sourceMappingURL=chunk-e042e4e8.94202fd9.js.map