(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b5a078c"],{"021c":function(e,t,a){},"05ff":function(e,t,a){e.exports=a.p+"static/img/ic_circle_bg.d62793b1.png"},"0ac7":function(e,t,a){},"0ad8":function(e,t,a){},"0e50":function(e,t,a){"use strict";var n=a("7a23"),o=a("ec55"),r=a.n(o),i=["src"],l={class:"div_drinktype_des"},s={class:"div_drinktype_arraw"},c={class:"img_drinktype_arraw",src:r.a,alt:""};function u(e,t,o,r,u,d){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"div_drinktype_content",style:Object(n["normalizeStyle"])(o.style)},[Object(n["createElementVNode"])("img",{class:"img_drinktype",src:6===o.datas.length?a("ec4d"):3===o.datas.length?a("e27e"):5===o.datas.length?a("7326"):a("11e0"),alt:""},null,8,i),Object(n["createElementVNode"])("div",l,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.datas,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("span",{style:Object(n["normalizeStyle"])(o.textstyle),key:t},Object(n["toDisplayString"])(e),5)})),128))]),Object(n["createElementVNode"])("div",s,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(o.datas.length,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:e},[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",c,null,512),[[n["vShow"],o.type===e]]),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",null,null,512),[[n["vShow"],o.type!==e]])])})),128))])],4)}var d=a("5530"),p=(a("a9e3"),{name:"DrinkType",props:{type:{type:Number,default:0},style:{type:String,default:""},textstyle:{type:String,default:""},datas:{type:[],default:["非常不足","正常饮水","过量饮水","严重过量"]}},components:{},setup:function(){Object(n["onMounted"])((function(){}));var e=Object(n["reactive"])({mData:[0,1,2,3]});return Object(d["a"])({},Object(n["toRefs"])(e))}});a("970e");p.render=u,p.__scopeId="data-v-aad757a6";t["a"]=p},"11e0":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVEAAAAQCAYAAACvBUw/AAACjUlEQVR4Xu2cvUtDMRTFT2hRK/ZfKO4OTg7O4uLu5CpCQUEQ0bFji4iCQhdXp+LqIs6CToLdxc3V+gFCidzX1r5a6/vIBdv0ZCtNzss9SX9N8u57Bj9K+bYxB2AdwDJgCwDyP+uEP+8t5FG5a/xVJfI7XzQkDinnj7uRMQ+qsDZ74NRedH3TkJheb/ZTeTqzWE7dtnNB3zQkro/qaio/pVGuWHNqP2oaBhDAPVngKpO1Z5MbF/WweabzoVSvT+TeC4fW2iKATFyHfQGgxOsaCyHaO2u0YE6ItnzVgjkh2p2nKf4QmjCmmnvGjinVPkUpgGgA0LfCpYVdigvPTj1X8GjAa1g0CFFCdNDvRwuAaVfk4VU1IeoE0aCxMbieejYrAtIAopW7xom1djMpQIcFXsPSD0KUECVE41EkxQqwT/jfNYw5nS7WtkzrDNTeJ9nCh6PhSrTrBiFKiBKiYwRRoJnJ2nmB6BFgt+OF3l+LECVEB80dnol2neF2vneW/Psqst0dhX4cC0QfACt35FMVQpQQJUSjfzqEqJ8QNUDdlG9fXqLSmP6aIoQoIUqIEqLRDngL0QYhGhpb1z8EnonyTJRnovFwqrCNHop8Vckhdd7Ox7NsPGppQHQ8nIofpZyrSnFN7Yl/Rb9ryrGCFJdke78dShZdezvvdmMp2SX9rk2I6o8vIarrKSGq6yeA4MaSU4qTepdGWJAQ1R88QlTXU0JU1c9WipNIuiTbq3ZpxMUIUf0BJER1PSVEFf3sJNuLpMtjn4pdGnkpQlR/CAlRXU8JUR0/+x77/AZpiheQ6HTJDxVCVH8cCVFdTwlRZz9/fwFJWDbpq/Ccu+SRACGqP5iEqK6nhGhyP6NehfcFLk24P/DE9s8AAAAASUVORK5CYII="},1810:function(e,t,a){},2276:function(e,t,a){"use strict";a.r(t),a.d(t,"getHistorySleepByDay",(function(){return o})),a.d(t,"getHistorySleepByWeek",(function(){return r})),a.d(t,"manualInput",(function(){return i})),a.d(t,"getHelpSleepMusic",(function(){return l})),a.d(t,"getReferenceResource",(function(){return s}));a("99af");var n=a("a27e");function o(e){return n["default"].get("/monitor/health/sleep/SySleepLog/getHistorySleepByDay?dateTime=".concat(e))}function r(e,t){return n["default"].get("/monitor/health/sleep/SySleepLog/getHistorySleepByWeek?startTime=".concat(e,"&endTime=").concat(t))}function i(e){return n["default"].post("/monitor/health/sleep/SySleepLog/manualInput",e)}function l(e){return n["default"].get("/monitor/helpSleep/getHelpSleepMusic",e)}function s(e){return n["default"].get("/monitor/health/sleep/SySleepLog/getReferenceResource?userId=".concat(e))}},"2ff5":function(e,t,a){},"30bf":function(e,t,a){"use strict";var n=a("7a23"),o=function(e){return Object(n["pushScopeId"])("data-v-66886ab4"),e=e(),Object(n["popScopeId"])(),e},r={class:"div_changedate_content"},i=o((function(){return Object(n["createElementVNode"])("svg",{"aria-hidden":"true",class:"svg_left"},[Object(n["createElementVNode"])("use",{"xlink:href":"#icon-goback"})],-1)})),l=[i],s={class:"span_date"},c=o((function(){return Object(n["createElementVNode"])("svg",{"aria-hidden":"true",class:"svg_left"},[Object(n["createElementVNode"])("use",{"xlink:href":"#icon-Fill"})],-1)})),u=[c];function d(e,t,a,o,i,c){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",r,[Object(n["createElementVNode"])("div",{onClick:t[0]||(t[0]=function(){return o.left&&o.left.apply(o,arguments)})},l),Object(n["createElementVNode"])("span",s,Object(n["toDisplayString"])("day"==a.type?o.moment(a.selectdate).format("YYYY年MM月DD日"):"week"==a.type?o.moment(new Date(a.selectdate).setDate(new Date(a.selectdate).getDate()-7)).format("YYYY/MM/DD")+"-"+o.moment(a.selectdate).format("YYYY/MM/DD"):"month"==a.type?o.moment(new Date(a.selectdate).setMonth(new Date(a.selectdate).getMonth()-1)).format("YYYY/MM/DD")+"-"+o.moment(a.selectdate).format("YYYY/MM/DD"):"year"==a.type?o.moment(new Date(a.selectdate).setFullYear(new Date(a.selectdate).getFullYear()-1)).format("YYYY/MM/DD")+"-"+o.moment(a.selectdate).format("YYYY/MM/DD"):""),1),Object(n["createElementVNode"])("div",{onClick:t[1]||(t[1]=function(){return o.right&&o.right.apply(o,arguments)})},u)])}var p=a("5530"),m=a("c1df"),f=a.n(m),b={name:"ChangeDate",props:{selectdate:{type:Date,default:new Date},onchange:{type:Function,default:function(){}},type:{type:String,default:"day"}},components:{},setup:function(e){Object(n["onMounted"])((function(){}));var t=Object(n["reactive"])({}),a=function(){var t,a=new Date(e.selectdate);t="week"==e.type?a.setDate(a.getDate()-7):"month"==e.type?a.setMonth(a.getMonth()-1):"year"==e.type?a.setFullYear(a.getFullYear()-1):a.setDate(a.getDate()-1),t.valueOf()<(new Date).valueOf()&&e.onchange(t)},o=function(){var t,a=new Date(e.selectdate);t="week"==e.type?a.setDate(a.getDate()+7):"month"==e.type?a.setMonth(a.getMonth()+1):"year"==e.type?a.setFullYear(a.getFullYear()+1):a.setDate(a.getDate()+1),t.valueOf()<(new Date).valueOf()&&e.onchange(t)};return Object(p["a"])(Object(p["a"])({},Object(n["toRefs"])(t)),{},{left:a,right:o,moment:f.a})}};a("726e");b.render=d,b.__scopeId="data-v-66886ab4";t["a"]=b},"392b":function(e,t,a){"use strict";a("3bb6")},3939:function(e,t,a){"use strict";a("c822")},"3bb6":function(e,t,a){},"3bde":function(e,t,a){},4316:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAKCAYAAABrGwT5AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAD6ADAAQAAAABAAAACgAAAADP1lR5AAAALklEQVQoFWNk39K39T/Dfy8GEgEjA+M2JhL1IJQzMvxHcOjNYhz1M/FBTnE8AwCZthIEsWtCTAAAAABJRU5ErkJggg=="},4676:function(e,t,a){"use strict";a("b0c0");var n=a("7a23"),o={class:"div_sleepproportion"},r={style:{flex:"1","padding-top":"10px"}};function i(e,t,a,i,l,s){var c=Object(n["resolveComponent"])("track-pie");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[Object(n["createVNode"])(c,{option:a.option},null,8,["option"]),Object(n["createElementVNode"])("div",r,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(i._data,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"div_item",key:t},[Object(n["createElementVNode"])("div",{class:"div_circle",style:Object(n["normalizeStyle"])({backgroundColor:e.color})},null,4),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.name),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.time),1),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.proportion),1)])})),128))])])}function l(e,t,a,o,r,i){var l=Object(n["resolveComponent"])("v-chart");return Object(n["openBlock"])(),Object(n["createBlock"])(l,{class:"chart",option:e.option},null,8,["option"])}var s=a("ade3"),c=a("22b4"),u=a("f95e"),d=a("49bb"),p=a("9394"),m=a("2da7"),f=a("ff32"),b=a("5c7f");Object(c["a"])([u["a"],d["a"],p["a"],m["a"],f["a"]]);var v=Object(n["defineComponent"])({name:"HelloWorld",props:{option:{type:Object}},components:{VChart:b["b"]},provide:Object(s["a"])({},b["a"],"white"),setup:function(){return{}}});a("9688");v.render=l,v.__scopeId="data-v-4353436d";var h=v,g={name:"SleepProportion",props:{data:{type:[],default:0},option:{type:Object}},components:{TrackPie:h},setup:function(e){var t=Object(n["ref"])([{color:"#9530F2",name:"深睡",time:"0",proportion:0},{color:"#CA31D9",name:"浅睡",time:"0",proportion:0},{color:"#FFBB20",name:"快速眠动",time:"0",proportion:0}]);return Object(n["onMounted"])((function(){var a=0,n=0,o=0,r=0,i=e.data;if(i&&i.list){for(var l=0;l<i.list.length;l++)a+=i.list[l].lightsleep||0,n+=i.list[l].deepsleep||0,o+=i.list[l].rem||0,r+=parseInt(i.list[l].fallsleepduration||"0");t.value[0].time=parseInt(n/60+"")+"小时"+n%60+"分",t.value[1].time=parseInt(a/60+"")+"小时"+a%60+"分",t.value[2].time=parseInt(o/60+"")+"小时"+o%60+"分",0==r&&(r=1),t.value[0].proportion=parseInt(n/r*100+"")+"% ",t.value[1].proportion=parseInt(a/r*100+"")+"% ",t.value[2].proportion=parseInt(o/r*100+"")+"% "}})),{_data:t}}};a("392b");g.render=i,g.__scopeId="data-v-7d4824c1";t["a"]=g},"526e":function(e,t,a){},5936:function(e,t,a){},"5be9":function(e,t,a){},"61b3":function(e,t,a){"use strict";a("e0d6")},"634e":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),o={class:"Sleep"},r={class:"div_content"};function i(e,t,i,l,s,c){var u=Object(n["resolveComponent"])("s-header"),d=Object(n["resolveComponent"])("change-device"),p=Object(n["resolveComponent"])("SleepDay"),m=Object(n["resolveComponent"])("van-tab"),f=Object(n["resolveComponent"])("SleepWeek"),b=Object(n["resolveComponent"])("SleepMonth"),v=Object(n["resolveComponent"])("SleepYear"),h=Object(n["resolveComponent"])("van-tabs");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[Object(n["createVNode"])(u,{name:"睡眠跟踪",imgForward:a("4316"),rightName:"本人",rightPress:l.rightPress},null,8,["imgForward","rightPress"]),Object(n["createVNode"])(d,{fontColor:"#06B48D"}),Object(n["createElementVNode"])("div",r,[Object(n["createVNode"])(h,{background:"#f5f6f9",color:"#1baeae","title-active-color":"#1baeae"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{title:"日"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(p,{date:e.date,"subtract-day":l.subtractDay,"add-day":l.addDay},null,8,["date","subtract-day","add-day"])]})),_:1}),Object(n["createVNode"])(m,{title:"周"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(f,{"start-week":e.startWeek,"end-week":e.endWeek,"subtract-week":l.subtractWeek,"add-week":l.addWeek},null,8,["start-week","end-week","subtract-week","add-week"])]})),_:1}),Object(n["createVNode"])(m,{title:"月"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(b,{"start-month":e.startMonth,"end-month":e.endMonth,"subtract-month":l.subtractMonth,"add-month":l.addMonth},null,8,["start-month","end-month","subtract-month","add-month"])]})),_:1}),Object(n["createVNode"])(m,{title:"年"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(v,{"start-year":e.startYear,"end-year":e.endYear,"subtract-year":l.subtractYear,"add-year":l.addYear},null,8,["start-year","end-year","subtract-year","add-year"])]})),_:1})]})),_:1})])])}var l=a("5530"),s=a("0eaf"),c=a("d7fa"),u=(a("a15b"),a("1276"),a("ac1f"),a("97e1")),d=a.n(u),p=function(e){return Object(n["pushScopeId"])("data-v-239cdeb7"),e=e(),Object(n["popScopeId"])(),e},m={class:"sleep-day"},f={class:"date-picker"},b=p((function(){return Object(n["createElementVNode"])("div",null,[Object(n["createElementVNode"])("p",{class:"p-data"},[Object(n["createElementVNode"])("img",{src:d.a,class:"img-data",alt:""}),Object(n["createElementVNode"])("span",{class:"span-title"},"数据解读")]),Object(n["createElementVNode"])("p",{class:"p-data-read"}," 您本日的睡眠情况良好，好的睡眠习惯有助于保证睡眠质量，良好的睡眠有助于保护人的身心健康，提升机体免疫力，消除人体疲劳。因此，请继续保持良好的睡眠习惯 ")],-1)}));function v(e,t,a,o,r,i){var l=Object(n["resolveComponent"])("van-icon"),s=Object(n["resolveComponent"])("sleep-night"),c=Object(n["resolveComponent"])("sleep-help");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",m,[Object(n["createElementVNode"])("p",f,[Object(n["createVNode"])(l,{name:"arrow-left",size:"22",color:"#999",onClick:a.subtractDay},null,8,["onClick"]),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(a.date.split("-").join("/")),1),Object(n["createVNode"])(l,{name:"arrow",size:"22",color:"#999",onClick:a.addDay},null,8,["onClick"])]),Object(n["createVNode"])(s,{onClick:o.goSleepNight,"on-click-label":o.onClickLabel,data:e.sleepData,hour:e.sleepData.fallsleepduration?e.sleepData.fallsleepduration/60:0,min:e.sleepData.fallsleepduration?e.sleepData.fallsleepduration%60:0,labels:e.labels},null,8,["onClick","on-click-label","data","hour","min","labels"]),b,Object(n["createVNode"])(c)])}var h=a("1da1"),g=(a("99af"),a("96cf"),a("3683")),O=a.n(g),j=function(e){return Object(n["pushScopeId"])("data-v-e727a09c"),e=e(),Object(n["popScopeId"])(),e},y=j((function(){return Object(n["createElementVNode"])("div",{class:"div_night_title"},[Object(n["createElementVNode"])("img",{src:O.a}),Object(n["createElementVNode"])("span",null,"夜间睡眠")],-1)})),k={class:"div_circle_content"},S={class:"div_clockdial"},A={class:"div_circle_des"},N=j((function(){return Object(n["createElementVNode"])("span",{class:"span_circle_title"},"夜间睡眠",-1)})),w={class:"span_circle_des"},D=j((function(){return Object(n["createElementVNode"])("span",{class:"span_num"},"hr",-1)})),E=j((function(){return Object(n["createElementVNode"])("span",{class:"span_num"},"min",-1)})),C={class:"span_des"},V=j((function(){return Object(n["createElementVNode"])("span",null,"「点击查看详情」",-1)}));function x(e,t,a,o,r,i){var l=Object(n["resolveComponent"])("circle-progress"),s=Object(n["resolveComponent"])("clock-dial"),c=Object(n["resolveComponent"])("van-icon"),u=Object(n["resolveComponent"])("track-type"),d=Object(n["resolveComponent"])("sleep-night-label");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("div",{class:"div_content",style:Object(n["normalizeStyle"])(e.mbackground),onClick:t[0]||(t[0]=function(){return a.onClick&&a.onClick.apply(a,arguments)})},[y,Object(n["createElementVNode"])("div",k,[Object(n["createVNode"])(l,{id:1,width:236,radius:12,progress:a.data.fallsleepduration?parseInt(a.data.fallsleepduration/7.2+""):0,delay:200,duration:1e3,barColor:"#A0E3D4",backgroundColor:"#093F2E",isAnimation:!0,isRound:!1,timeFunction:"cubic-bezier(0.99, 0.01, 0.22, 0.94)"},null,8,["progress","timeFunction"]),Object(n["createElementVNode"])("div",S,[Object(n["createVNode"])(s)]),Object(n["createElementVNode"])("div",A,[N,Object(n["createElementVNode"])("span",w,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(a.hour),1),D,Object(n["createTextVNode"])(Object(n["toDisplayString"])(a.min),1),E])])]),Object(n["createVNode"])(c,{class:"svg_right",color:"#fff",size:"20px",name:"arrow"}),Object(n["createVNode"])(u,{datas:["严重不足","睡眠不足","正常睡眠","过量睡眠"],type:0==a.data.type?1:1==a.data.type?3:2==a.data.type?2:3==a.data.type?4:0,style:{marginTop:"30px",marginBottom:"10px"},textstyle:{color:"#ffffff !important"}},null,8,["type"]),Object(n["createElementVNode"])("span",C,[Object(n["createTextVNode"])("您昨晚的睡眠时长是"+Object(n["toDisplayString"])(a.hour)+"小时"+Object(n["toDisplayString"])(a.min)+"分",1),V])],4),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.mlabels,(function(e,t){return Object(n["openBlock"])(),Object(n["createBlock"])(d,{key:t,title:e.title,timeslot:e.timeslot,timeconsumption:e.timeconsumption,status:e.status,imgsrc:e.imgsrc,backcolor:e.backcolor,"on-click-label":function(){return a.onClickLabel(e)}},null,8,["title","timeslot","timeconsumption","status","imgsrc","backcolor","on-click-label"])})),128))],64)}var Y=["width","height"],B=["r","cy","cx","stroke-width","stroke"],M=["r","cy","cx","stroke","stroke-width","stroke-linecap","stroke-dasharray","stroke-dashoffset"];function I(e,t,a,o,r,i){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[(Object(n["openBlock"])(),Object(n["createElementBlock"])("svg",{style:{transform:"rotate(-90deg)"},width:a.width,height:a.width},[Object(n["createElementVNode"])("circle",{r:(a.width-a.radius)/2,cy:a.width/2,cx:a.width/2,"stroke-width":a.radius,stroke:a.backgroundColor,fill:"none"},null,8,B),Object(n["createElementVNode"])("circle",{ref:"$bar",id:"bar",r:(a.width-a.radius)/2,cy:a.width/2,cx:a.width/2,stroke:a.barColor,"stroke-width":a.radius,"stroke-linecap":a.isRound?"round":"square","stroke-dasharray":3.14*(a.width-a.radius),"stroke-dashoffset":a.isAnimation?3.14*(a.width-a.radius):3.14*(a.width-a.radius)*(100-e.mprogress)/100,fill:"none"},null,8,M)],8,Y))])}a("a9e3");var F={props:{width:[Number,String],radius:[Number,String],progress:[Number,String],barColor:String,backgroundColor:String,isAnimation:{type:Boolean,default:!0},isRound:{type:Boolean,default:!0},id:{type:[String,Number],default:1},duration:{type:[String,Number],default:1e3},delay:{type:[String,Number],default:200},timeFunction:{type:String,default:"cubic-bezier(0.99, 0.01, 0.22, 0.94)"}},setup:function(e){var t=function(t,a){if(t){document.getElementById(e.idStr)&&(console.warn("vue-circle-progress should not have same id style"),document.getElementById(e.idStr).remove());var n=document.createElement("style");n.id=e.idStr,n.type="text/css",n.innerHTML="\n      @keyframes circle_progress_keyframes_name_".concat(e.id," {\n      from {stroke-dashoffset: ").concat(3.14*(e.width-e.radius),"px;}\n      to {stroke-dashoffset: ").concat(3.14*(e.width-e.radius)*(100-a)/100,"px;}}\n      .circle_progress_bar").concat(e.id," {animation: circle_progress_keyframes_name_").concat(e.id," ").concat(e.duration,"ms ").concat(e.delay,"ms ").concat(e.timeFunction," forwards;}"),document.getElementsByTagName("head")[0].appendChild(n),document.getElementById("bar").classList.add("circle_progress_bar".concat(e.id))}};Object(n["onMounted"])((function(){t(!0,0)})),Object(n["watch"])((function(){return e.progress}),(function(e,n){a.mprogress=e,t(!0,e)}));var a=Object(n["reactive"])({idStr:"circle_progress_keyframes_".concat(e.id),mprogress:0});return Object(n["onBeforeUnmount"])((function(){document.getElementById(a.idStr)&&document.getElementById(e.idStr).remove()})),Object(l["a"])({},Object(n["toRefs"])(a))}};F.render=I;var _=F,L={id:"coolClockWrap"},R=["width","height"];function T(e,t,a,o,r,i){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",L,[Object(n["createElementVNode"])("canvas",{id:"coolClockCanvas",width:r.canvas.width,height:r.canvas.height},null,8,R)])}a("cb29");var P={name:"",data:function(){return{canvas:{width:246,height:246},L:0,timer:null}},components:{},methods:{drawCoolClock:function(){var e=document.getElementById("coolClockCanvas"),t=e.getContext("2d"),a=this.canvas.width/2,n=this.canvas.height/2;this.L=this.canvas.width/2-10;var o=[this.L,this.L-28],r=o[0];t.clearRect(0,0,e.width,e.height),this.drawScaleNum(t,r-25,a,n)},drawHoursScale:function(e,t,a,n,o,r,i){for(var l=0;l<n;l++){var s=l*(360/n)-90,c=t+Math.cos(s*Math.PI/180)*r,u=a+Math.sin(s*Math.PI/180)*r,d=t+Math.cos(s*Math.PI/180)*i,p=a+Math.sin(s*Math.PI/180)*i;e.save(),e.beginPath(),e.lineWidth=o,e.lineCap="round",e.moveTo(c,u),e.lineTo(d,p),e.stroke(),e.closePath(),e.restore()}},drawScaleNum:function(e,t,a,n){for(var o=0;o<12;o++){var r=30*o-90,i=a+Math.cos(r*Math.PI/180)*t,l=n+Math.sin(r*Math.PI/180)*t,s=0==o?12:o;e.save(),e.beginPath(),e.font="14px Arial",e.textAlign="center",e.textBaseline="middle",e.fillStyle=o%3==0?"#FFFFFF":"#79B8AE",e.fillText(s,i,l),e.closePath(),e.restore()}},drawTimeNeedle:function(e,t,a,n,o,r){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"#000",l=t+Math.cos(r*Math.PI/180)*o,s=a+Math.sin(r*Math.PI/180)*o;e.save(),e.beginPath(),e.strokeStyle=i,e.lineWidth=n,e.lineCap="round",e.moveTo(t,a),e.lineTo(l,s),e.stroke(),e.closePath(),e.restore()},drawCircleCenter:function(e,t,a,n,o){e.save(),e.beginPath(),e.shadowBlur=4,e.shadowColor="#000",e.fillStyle=n,e.arc(t,a,o,0,360*Math.PI/180),e.fill(),e.closePath(),e.restore()},drawSenDotted:function(e,t,a,n,o,r){var i=a+Math.cos(o*Math.PI/180)*r,l=n+Math.sin(o*Math.PI/180)*r;e.save(),e.beginPath(),e.fillStyle=t,e.arc(i,l,7,0,360*Math.PI/180),e.fill(),e.closePath(),e.restore()}},mounted:function(){this.drawCoolClock()},created:function(){},destroyed:function(){clearInterval(this.timer),this.timer=null}};a("83e3");P.render=T,P.__scopeId="data-v-59be0e25";var W=P,z={class:"div_item_left"},Q=["src"],H={style:{"margin-left":"10px"}},U={class:"div_item_left_right_top"},J={class:"div_status"},G={class:"div_item_right"};function q(e,t,a,o,r,i){var l=Object(n["resolveComponent"])("van-icon");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"div_item",style:Object(n["normalizeStyle"])({backgroundColor:a.backcolor}),onClick:t[0]||(t[0]=function(){return a.onClickLabel&&a.onClickLabel.apply(a,arguments)})},[Object(n["createElementVNode"])("div",z,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{src:a.imgsrc},null,8,Q),[[n["vShow"],a.imgsrc]]),Object(n["createElementVNode"])("div",H,[Object(n["createElementVNode"])("div",U,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(a.title),1),Object(n["withDirectives"])(Object(n["createElementVNode"])("div",J,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(a.status),1)],512),[[n["vShow"],a.status]])]),Object(n["withDirectives"])(Object(n["createElementVNode"])("span",{class:"span_item_left_right_bottom"},Object(n["toDisplayString"])(a.timeslot),513),[[n["vShow"],a.timeslot]])])]),Object(n["createElementVNode"])("div",G,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(a.timeconsumption),1),Object(n["createVNode"])(l,{size:"18px",color:"#999",name:"arrow"})])],4)}var K={name:"SleepNightLabel",props:{title:{type:String,default:""},timeslot:{type:String,default:""},timeconsumption:{type:String,default:""},status:{type:String,default:""},imgsrc:{type:String,default:""},backcolor:{type:String,default:"#FFFFFF"},onClickLabel:{type:Function,default:function(){}}},components:{},setup:function(){Object(n["onMounted"])((function(){}));var e=Object(n["reactive"])({todo:""});return Object(l["a"])({},Object(n["toRefs"])(e))}};a("b0c1");K.render=q,K.__scopeId="data-v-f046084a";var X=K,Z=a("0e50"),$={name:"index",props:{onClick:{type:Function,default:function(){}},onClickLabel:Function,data:Object,hour:String,min:String,labels:Object},components:{CircleProgress:_,ClockDial:W,SleepNightLabel:X,TrackType:Z["a"]},setup:function(e){Object(n["onMounted"])((function(){t.mlabels=e.labels})),Object(n["watch"])((function(){return e.labels}),(function(e,a){t.mlabels=e}));var t=Object(n["reactive"])({todo:"",mbackground:{backgroundImage:"url("+a("05ff")+")"},mlabels:[]});return Object(l["a"])({},Object(n["toRefs"])(t))}};a("ce07");$.render=x,$.__scopeId="data-v-e727a09c";var ee=$,te=function(e){return Object(n["pushScopeId"])("data-v-776a5cfa"),e=e(),Object(n["popScopeId"])(),e},ae={class:"div_trackplan"},ne={class:"all",id:"div-improve-plan"},oe=["src"],re=te((function(){return Object(n["createElementVNode"])("div",{class:"div_trackplan_item"},[Object(n["createElementVNode"])("span",null,"睡眠改善计划")],-1)}));function ie(e,t,a,o,r,i){var l=Object(n["resolveComponent"])("module-title");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(l,{src:a.src,text:a.title},null,8,["src","text"]),Object(n["createElementVNode"])("div",ae,[Object(n["createElementVNode"])("div",ne,[Object(n["createElementVNode"])("img",{src:a.src_item,class:"improve-img"},null,8,oe),re])])],64)}var le={class:"div_moduletitle_content"},se=["src"],ce={class:"span_title"};function ue(e,t,a,o,r,i){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",le,[Object(n["withDirectives"])(Object(n["createElementVNode"])("img",{src:a.src,style:{width:"13px",height:"13px"}},null,8,se),[[n["vShow"],a.src]]),Object(n["createElementVNode"])("span",ce,Object(n["toDisplayString"])(a.text),1)])}var de={name:"ModuleTitle",props:{type:{type:Number,default:0},src:{type:String,default:""},text:{type:String,default:""}},components:{},setup:function(){Object(n["onMounted"])((function(){}));var e=Object(n["reactive"])({mData:[0,1,2,3]});return Object(l["a"])({},Object(n["toRefs"])(e))}};a("734f");de.render=ue,de.__scopeId="data-v-2852f0a5";var pe=de,me={name:"DrinkPlan",props:{src:{type:String,default:""},title:{type:String,default:""},src_item:{type:String,default:""}},components:{ModuleTitle:pe},setup:function(){Object(n["onMounted"])((function(){}));var e=Object(n["reactive"])({todo:""});return Object(l["a"])({},Object(n["toRefs"])(e))}};a("e8df");me.render=ie,me.__scopeId="data-v-776a5cfa";var fe={class:"div_sleephelp"},be=["src"],ve={class:"span_title"},he={class:"span_des"};function ge(e,t,a,o,r,i){var l=Object(n["resolveComponent"])("module-title");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createVNode"])(l,{text:"助眠服务"}),Object(n["createElementVNode"])("div",fe,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.mdata,(function(e,a){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"div_sleephelp_item",key:a,onClick:t[0]||(t[0]=function(e){return o.onClick()})},[Object(n["createElementVNode"])("img",{src:e.source},null,8,be),Object(n["createElementVNode"])("span",ve,Object(n["toDisplayString"])(e.title),1),Object(n["createElementVNode"])("span",he,Object(n["toDisplayString"])(e.des),1)])})),128))])],64)}var Oe=a("6c02"),je={name:"index",props:{},components:{ModuleTitle:pe},setup:function(){var e=Object(Oe["d"])();Object(n["onMounted"])((function(){}));var t=Object(n["reactive"])({mdata:[{title:"冥想静心",des:"睡前舒缓放松，改善夜间易醒",source:a("d61f")},{title:"深度睡眠引导练习",des:"睡前舒缓放松，改善夜间易醒",source:a("b588")}]}),o=function(){e.push("/sleep-music")};return Object(l["a"])(Object(l["a"])({},Object(n["toRefs"])(t)),{},{onClick:o})}};a("a55a");je.render=ge,je.__scopeId="data-v-773ca45c";var ye=je,ke=function(e){return Object(n["pushScopeId"])("data-v-016c1384"),e=e(),Object(n["popScopeId"])(),e},Se={class:"div-wrap"},Ae=["src"],Ne={class:"div-explore-right"},we={class:"explore-title"},De={class:"div-explore-right-bottom"},Ee={class:"div-explore-right-bottom-wrap"},Ce={class:"span-left"},Ve=ke((function(){return Object(n["createElementVNode"])("svg",{"aria-hidden":"true",class:"svg"},[Object(n["createElementVNode"])("use",{"xlink:href":"#icon-liulan"})],-1)})),xe={class:"span-right"};function Ye(e,t,a,o,r,i){var l=Object(n["resolveComponent"])("module-title");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createVNode"])(l,{src:a.src,text:a.title},null,8,["src","text"]),Object(n["createElementVNode"])("div",{style:Object(n["normalizeStyle"])({height:"drink"===a.from?"10px":"0px"})},null,4),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(a.sleepExploreList,(function(e,t){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{key:t,class:"div-list",style:Object(n["normalizeStyle"])({backgroundColor:a.backgroundColor})},[Object(n["createElementVNode"])("div",Se,[Object(n["createElementVNode"])("img",{alt:"",src:e["url"],class:"explore-img"},null,8,Ae),Object(n["createElementVNode"])("div",Ne,[Object(n["createElementVNode"])("span",we,Object(n["toDisplayString"])(e.title),1),Object(n["createElementVNode"])("div",De,[Object(n["createElementVNode"])("div",Ee,[Object(n["createElementVNode"])("span",Ce,Object(n["toDisplayString"])(e.source),1),Object(n["createElementVNode"])("p",null,[Ve,Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(e.eyes),1)]),Object(n["createElementVNode"])("span",xe,Object(n["toDisplayString"])(e.date),1)])])])])],4)})),128))])}var Be={name:"TrackExplore",props:{backgroundColor:{type:String,default:""},from:{type:String,default:""},src:{type:String,default:""},title:{type:String,default:""},data:{type:String,default:"暂无数据"},sleepExploreList:{type:Array,default:[]}},components:{ModuleTitle:pe},setup:function(e){var t=Object(n["reactive"])({todo:"",sleepExploreList:[]});return t.sleepExploreList=e.sleepExploreList,Object(l["a"])({},Object(n["toRefs"])(t))}};a("78d7");Be.render=Ye,Be.__scopeId="data-v-016c1384";a("30bf");var Me=a("c1df"),Ie=a.n(Me),Fe=a("a27e"),_e=Fe.HOST_H5,Le=a("2276"),Re=Le.getHistorySleepByDay,Te={name:"index",components:{SleepNight:ee,SleepHelp:ye},props:{subtractDay:{type:Function,default:function(){}},addDay:{type:Function,default:function(){}},date:{type:String,default:""}},setup:function(e){var t=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var a,n,o,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Re(e.date);case 2:for(a=t.sent,c.sleepData=a.data[0]||"",c.sleepAllData=a.data,n=0,o=0,r=0,i=0;i<a.data.length;i++)0==a.data[i].sleepType?n+=a.data[i].fallsleepduration:(r++,o+=a.data[i].fallsleepduration);c.xiaodata=o,c.labels[0].timeslot=r+"次",c.labels[1].timeconsumption=n/60+"小时"+n%60+"分钟";case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(n["onMounted"])((function(){t(e.date)})),Object(n["watch"])((function(){return e.date}),(function(e,a){t()}));var o=Object(Oe["d"])(),r=function(){s("/sleep-night",{data:c.sleepAllData})},i=function(e){if(console.log(333,e),"今天睡眠总时长"===e.title)s("/sleep-record");else if("白天小睡"===e.title){var t=_e+"/sleep/#/daySleep/0-45/".concat(parseInt(c.xiaodata/60+""),"/").concat(parseInt(c.xiaodata%60+""),"/").concat(c.xiaodata>45?2:1);s("/sporadic-nap",{url:t})}},s=function(e,t){o.push({path:e,query:t||{}})},c=Object(n["reactive"])({selectdate:new Date,sleepData:"",sleepAllData:"",xiaodata:0,labels:[{title:"白天小睡",timeslot:"",timeconsumption:"",status:"",imgsrc:a("4144"),backcolor:"#FFF6DF"},{title:"今天睡眠总时长",timeslot:"",timeconsumption:"",status:"",imgsrc:"",backcolor:"#EAFFFB"}]}),u=function(e){c.selectdate=e};return Object(l["a"])(Object(l["a"])({},Object(n["toRefs"])(c)),{},{onchange:u,goSleepNight:r,onClickLabel:i})}};a("95ea");Te.render=v,Te.__scopeId="data-v-239cdeb7";var Pe=Te,We={class:"sleep-week"},ze={class:"date-picker"},Qe={class:"div-echarts"},He={class:"div-sleep-calc"};function Ue(e,t,a,o,r,i){var l=Object(n["resolveComponent"])("van-icon"),s=Object(n["resolveComponent"])("sleep-local-data"),c=Object(n["resolveComponent"])("v-chart"),u=Object(n["resolveComponent"])("sleep-avg-num-and-des"),d=Object(n["resolveComponent"])("sleep-proportion"),p=Object(n["resolveComponent"])("sleep-avg-label"),m=Object(n["resolveComponent"])("sleep-help");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",We,[Object(n["createElementVNode"])("p",ze,[Object(n["createVNode"])(l,{name:"arrow-left",size:"22",color:"#999",onClick:a.subtractWeek},null,8,["onClick"]),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(a.startWeek.split("-").join("/"))+"-"+Object(n["toDisplayString"])(a.endWeek.split("-").join("/")),1),Object(n["createVNode"])(l,{name:"arrow",size:"22",color:"#999",onClick:a.addWeek},null,8,["onClick"])]),Object(n["createVNode"])(s,{time:a.endWeek,hour:e.locadata.hour,min:e.locadata.min},null,8,["time","hour","min"]),Object(n["createElementVNode"])("div",Qe,[Object(n["createVNode"])(c,{class:"chart",option:o.option},null,8,["option"])]),Object(n["createElementVNode"])("div",He,[Object(n["createVNode"])(u,{data:e.avgSySleepLog},null,8,["data"]),Object(n["createVNode"])(d,{option:o.pieoption,data:e.piedata},null,8,["option","data"]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.bardata,(function(e,t){return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:t,title:e.realname,timeslot:e.reference,status:e.status,backcolor:"#f2f2f2",onClickLabel:function(){return o.itemonPress(e)}},null,8,["title","timeslot","status","onClickLabel"])),[[n["vShow"],e.num]])})),128))]),Object(n["createVNode"])(m)])}a("b0c0");var Je=a("4676"),Ge=a("679d"),qe=function(e){return Object(n["pushScopeId"])("data-v-5557aa27"),e=e(),Object(n["popScopeId"])(),e},Ke=qe((function(){return Object(n["createElementVNode"])("p",{class:"p-title"},"平均睡眠时间",-1)})),Xe={class:"p-avg-duration"},Ze=qe((function(){return Object(n["createElementVNode"])("p",{class:"p-description"},"大部分睡眠质量不好的人或多或少都存在不良的睡眠习惯，如作息不规律、缺乏充足的阳光照射、缺乏足够的体育运动、经常喝咖啡、喝酒、抽烟，或者过度焦虑等。",-1)}));function $e(e,t,a,o,r,i){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Ke,Object(n["createElementVNode"])("p",Xe,Object(n["toDisplayString"])(a.data/60)+"小时"+Object(n["toDisplayString"])(a.data%60)+"分钟",1),Ze])}var et={name:"SleepAvgNumAndDes",props:{data:{type:Number,default:0}},components:{},setup:function(){Object(n["onMounted"])((function(){}));var e=Object(n["reactive"])({todo:""});return Object(l["a"])({},Object(n["toRefs"])(e))}};a("e5f5");et.render=$e,et.__scopeId="data-v-5557aa27";var tt=et,at={class:"p-date"},nt={class:"p-sleep-duration"},ot={class:"hour"},rt=Object(n["createTextVNode"])("小时"),it={class:"minutes"},lt=Object(n["createTextVNode"])("分");function st(e,t,a,o,r,i){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("p",at,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(a.time),1)]),Object(n["createElementVNode"])("p",nt,[Object(n["createElementVNode"])("span",null,[Object(n["createElementVNode"])("span",ot,Object(n["toDisplayString"])(a.hour),1),rt,Object(n["createElementVNode"])("span",it,Object(n["toDisplayString"])(a.min),1),lt])])])}var ct={name:"SleepLocalData",props:{time:{type:String,default:""},hour:{type:String,default:""},min:{type:String,default:""}},components:{},setup:function(){Object(n["onMounted"])((function(){}));var e=Object(n["reactive"])({todo:""});return Object(l["a"])({},Object(n["toRefs"])(e))}};a("a068");ct.render=st,ct.__scopeId="data-v-7704d248";var ut=ct,dt=a("2276"),pt=dt.getHistorySleepByWeek,mt=a("a27e"),ft=mt.HOST_H5,bt={name:"index",components:{SleepProportion:Je["a"],SleepHelp:ye,SleepAvgLabel:Ge["a"],SleepAvgNumAndDes:tt,SleepLocalData:ut},props:{subtractWeek:{type:Function,default:function(){}},addWeek:{type:Function,default:function(){}},startWeek:{type:String,default:""},endWeek:{type:String,default:""}},setup:function(e){var t=["","","","","","",""],a=Object(Oe["d"])(),o=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,pt(e.startWeek,e.endWeek);case 2:a=t.sent,a.data&&a.data.list&&a.data.list.length>0?(r(a.data),c(a.data),u(a.data),d(a.data),p(a.data,s)):i();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r=function(e){for(var t=0,a=0;a<e.list.length;a++)0==e.list[a].sleepType&&(e.list[a].fallsleepduration||0),3!=e.list[a].dataSource?t+=e.list[a].fallsleepduration||0:t+=parseInt((e.list[a].endtime-e.list[a].starttime)/6e4+"");b.avgSySleepLog=t/e.list.length},i=function(){b.locadata.hour=0,b.locadata.min=0,g.value.series[0].data=0,g.value.series[1].data=0,g.value.series[2].data=0,g.value.series[3].data=0,g.value.series[4].data=0,g.value.series[5].data=0,g.value.series[6].data=0,b.piedata=[{color:"#9530F2",name:"深睡",time:"0",proportion:0},{color:"#CA31D9",name:"浅睡",time:"0",proportion:0},{color:"#FFBB20",name:"快速眠动",time:"0",proportion:0}],O.value.series[0].data[0].value=0,O.value.series[0].data[1].value=0,O.value.series[0].data[2].value=0,b.bardata=[],b.avgSySleepLog=0},s=[{name:"夜间睡眠",num:0,unit:"小时",reference:"7-9",status:"",statuscode:-1},{name:"深睡比例",num:0,unit:"%",reference:"20-60",status:"",statuscode:-1},{name:"浅睡比例",num:0,unit:"%",reference:"<50",status:"",statuscode:-1},{name:"快速眼动比例",num:0,unit:"%",reference:"10-30",status:"",statuscode:-1},{name:"深睡连续性",num:0,unit:"分",reference:"70-100",status:"",statuscode:-1},{name:"清醒次数",num:0,unit:"次",reference:"0-2",status:"",statuscode:-1}],c=function(e){b.locadata.hour=e.list[e.list.length-1].fallsleepduration?e.list[e.list.length-1].fallsleepduration/60:0,b.locadata.min=e.list[e.list.length-1].fallsleepduration?e.list[e.list.length-1].fallsleepduration%60:0},u=function(e){for(var a=[0,0,0,0,0,0,0],n=[0,0,0,0,0,0,0],o=[0,0,0,0,0,0,0],r=[0,0,0,0,0,0,0],i=[0,0,0,0,0,0,0],l=[0,0,0,0,0,0,0],s=[0,0,0,0,0,0,0],c=[0,0,0,0,0,0,0],u=0;u<e.list.length;u++){var d=new Date(e.list[u].endtime),p=Ie()(new Date(e.list[u].endtime)).format("YYYY-MM-DD");0==d.getDay()?(a[6]+=e.list[u].lightsleep||0,n[6]+=e.list[u].deepsleep||0,o[6]+=e.list[u].wakeduration||0,r[6]+=e.list[u].rem||0,i[6]+=e.list[u].middle||0,3==e.list[u].dataSource&&(l[6]+=parseInt((e.list[u].endtime-e.list[u].starttime)/6e4+"")),t[6]=p,1==e.list[u].sleepType&&(s[6]+=parseInt(e.list[u].fallsleepduration||"0")),c[6]+=parseInt(e.list[u].fallsleepduration||"0")):(a[d.getDay()-1]+=e.list[u].lightsleep||0,n[d.getDay()-1]+=e.list[u].deepsleep||0,o[d.getDay()-1]+=e.list[u].wakeduration||0,r[d.getDay()-1]+=e.list[u].rem||0,i[d.getDay()-1]+=e.list[u].middle||0,3==e.list[u].dataSource&&(l[d.getDay()-1]+=parseInt((e.list[u].endtime-e.list[u].starttime)/6e4+"")),t[d.getDay()-1]=p,1==e.list[u].sleepType&&(s[d.getDay()-1]+=parseInt(e.list[u].fallsleepduration||"0")),c[d.getDay()-1]+=parseInt(e.list[u].fallsleepduration||"0"))}g.value.series[0].data=o,g.value.series[1].data=a,g.value.series[2].data=i,g.value.series[3].data=n,g.value.series[4].data=l,g.value.series[5].data=s,g.value.series[6].data=r},d=function(e){var t=0,a=0,n=0;if(e&&e.list){for(var o=0;o<e.list.length;o++)t+=e.list[o].lightsleep||0,a+=e.list[o].deepsleep||0,n+=e.list[o].rem||0;var r=b.piedata;r[0].time=a||0,r[1].time=t||0,r[2].time=n||0;var i=a+t+n;r[0].proportion=0!=i?a/i:0,r[1].proportion=0!=i?t/i:0,r[2].proportion=0!=i?n/i:0,b.piedata=r,O.value.series[0].data[0].value=a,O.value.series[0].data[1].value=t,O.value.series[0].data[2].value=n}},p=function(e,t){var a=0,n=0,o=0,r=0,i=0,l=0,s=0,c=0,u=0,d=0;if(e&&e.list){for(var p=0;p<e.list.length;p++)0==e.list[p].sleepType&&(a+=e.list[p].fallsleepduration||0,n++),o+=e.list[p].lightsleep||0,r+=e.list[p].deepsleep||0,i+=e.list[p].rem||0,l+=e.list[p].deepsleepcontinuity||0,e.list[p].deepsleepcontinuity&&s++,c+=e.list[p].wakes||0,e.list[p].wakes&&u++,d+=e.list[p].fallsleepduration||0;if(0!=n){var v=parseInt(a/n+"");t[0].num=v,m(t,0,420,540),f(t[0])}t[1].num=parseInt(r/d*100+""),m(t,1,20,60),f(t[1]),t[2].num=parseInt(o/d*100+""),m(t,2,0,50),f(t[2]),t[3].num=parseInt(i/d*100+""),m(t,3,10,30),f(t[3]),0!=s&&(t[4].num=parseInt(l/s+""),m(t,4,70,100),f(t[4])),0!=u&&(t[5].num=parseInt(c/u+""),m(t,5,0,2),f(t[5])),b.bardata=JSON.parse(JSON.stringify(t))}},m=function(e,t,a,n){e[t].num<a?(e[t].status="偏低",e[t].statuscode=0):e[t].num>n?(e[t].status="偏高",e[t].statuscode=2):(e[t].status="正常",e[t].statuscode=1)},f=function(e){e.num&&("夜间睡眠"==e.name||"平均夜间睡眠"==e.name?e.realname=e.name+parseInt(e.num/60+"")+"小时"+parseInt(e.num%60+"")+"分钟":e.realname=e.name+e.num+e.unit)};Object(n["onMounted"])(Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o();case 1:case"end":return e.stop()}}),e)})))),Object(n["watch"])((function(){return e.startWeek}),(function(e,t){o()}));var b=Object(n["reactive"])({selectdate:new Date,optiondata:{qingxing:[0,0,0,0,0,0,0],qianshui:[0,0,0,0,0,0,0],zhongshui:[0,0,0,0,0,0,0],shenshui:[0,0,0,0,0,0,0],shoudong:[0,0,0,0,0,0,0],xiaoshui:[0,0,0,0,0,0,0],miandong:[0,0,0,0,0,0,0]},bardata:[],piedata:[{color:"#9530F2",name:"深睡",time:"0",proportion:0},{color:"#CA31D9",name:"浅睡",time:"0",proportion:0},{color:"#FFBB20",name:"快速眠动",time:"0",proportion:0}],avgSySleepLog:0,locadata:{hour:0,min:0}}),v=function(e){b.selectdate=e},g=Object(n["ref"])({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){for(var t=[],a="",n=0;n<e.length;n++)t.push('<i style="display: inline-block;width: 10px;height: 10px;background: '+e[n].color+';margin-right: 5px;border-radius: 50%;}"></i><span style="width:70px; display:inline-block;">'+e[n].seriesName+"</span>"+e[n].value);return a=t.join("<br>"),'<div class="showBox">'+"<p>".concat(e[0].name,"</p>")+a+"</div>"}},legend:{data:["清醒","浅睡","中睡","深睡","手动录入","零星小睡","快速眼动"],icon:"circle",padding:10,textStyle:{fontSize:10},itemHeight:10},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["周一","周二","周三","周四","周五","周六","周日"],axisLabel:{interval:0}}],yAxis:[{type:"value"}],series:[{name:"清醒",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:b.optiondata.qingxing},{name:"浅睡",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:b.optiondata.qianshui},{name:"中睡",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:b.optiondata.zhongshui},{name:"深睡",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:b.optiondata.shenshui},{name:"手动录入",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:b.optiondata.shoudong},{name:"零星小睡",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:b.optiondata.xiaoshui},{name:"快速眼动",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:b.optiondata.miandong}]}),O=Object(n["ref"])({title:{text:"睡眠",subtext:"比例",left:"center",top:40,textStyle:{fontSize:12,fontWeight:"normal",width:20},subtextStyle:{fontSize:12,color:"#333333"}},color:["#C394F2","#E4A6F3","#FFBB20"],series:[{name:"睡眠比例",type:"pie",radius:["50%","80%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"inner",formatter:"{c}"}},itemStyle:{normal:{borderWidth:4,borderColor:"#ffffff"}},labelLine:{normal:{show:!1}},data:[{value:0,name:"深睡"},{value:0,name:"浅睡"},{value:0,name:"快速眠动"}]}]}),j=function(e,t){a.push({path:e,query:t||{}})},y=function(e){if("夜间睡眠"===e.name||"平均夜间睡眠"===e.name){var t=Math.floor(e.num/60),a=e.num%60,n=ft+"/sleep/#/dayNight/".concat("7-9","/",t,"/").concat(a,"/").concat(e.statuscode);j("/sleep-night-detail",{url:n})}if("深睡比例"===e.name||"平均深睡比例"===e.name){var o=ft+"/sleep/#/deepSleep/"+e.reference+"/"+e.num+e.unit+"/"+e.statuscode;j("/sleep-night-detail",{url:o})}if("浅睡比例"===e.name||"平均浅睡比例"===e.name){var r=ft+"/sleep/#/shallowSleep/"+e.num+e.unit+"/"+e.statuscode;j("/sleep-night-detail",{url:r})}if("快速眼动比例"===e.name||"平均快速眼动比例"===e.name){var i=ft+"/sleep/#/fastEyesRate/"+e.reference+"/"+e.num+e.unit+"/"+e.statuscode;j("/sleep-night-detail",{url:i})}if("深睡连续性"===e.name||"平均深睡连续性"===e.name){var l=ft+"/sleep/#/deepSleepContinuance/"+e.reference+"/"+e.num+"/"+e.statuscode;j("/sleep-night-detail",{url:l})}if("清醒次数"===e.name||"平均清醒次数"===e.name){var s=ft+"/sleep/#/wakeTimes/"+e.reference+"/"+e.num+"/"+e.statuscode;j("/sleep-night-detail",{url:s})}if("呼吸质量"===e.name){var c=ft+"/sleep/#/breathQuality/"+e.reference+"/"+e.num+e.unit+"/"+e.statuscode;j("/sleep-night-detail",{url:c})}};return Object(l["a"])(Object(l["a"])({},Object(n["toRefs"])(b)),{},{onchange:v,option:g,pieoption:O,itemonPress:y})}};a("6723");bt.render=Ue,bt.__scopeId="data-v-7efaa262";var vt=bt,ht={class:"sleep-Month"},gt={class:"date-picker"},Ot={class:"div-echarts"},jt={class:"div-sleep-calc"};function yt(e,t,a,o,r,i){var l=Object(n["resolveComponent"])("van-icon"),s=Object(n["resolveComponent"])("sleep-local-data"),c=Object(n["resolveComponent"])("v-chart"),u=Object(n["resolveComponent"])("sleep-avg-num-and-des"),d=Object(n["resolveComponent"])("sleep-proportion"),p=Object(n["resolveComponent"])("sleep-avg-label"),m=Object(n["resolveComponent"])("sleep-help");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ht,[Object(n["createElementVNode"])("p",gt,[Object(n["createVNode"])(l,{name:"arrow-left",size:"22",color:"#999",onClick:a.subtractMonth},null,8,["onClick"]),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(a.startMonth.split("-").join("/"))+"-"+Object(n["toDisplayString"])(a.endMonth.split("-").join("/")),1),Object(n["createVNode"])(l,{name:"arrow",size:"22",color:"#999",onClick:a.addMonth},null,8,["onClick"])]),Object(n["createVNode"])(s,{time:a.endMonth,hour:e.locadata.hour,min:e.locadata.min},null,8,["time","hour","min"]),Object(n["createElementVNode"])("div",Ot,[Object(n["createVNode"])(c,{class:"chart",option:o.option},null,8,["option"])]),Object(n["createElementVNode"])("div",jt,[Object(n["createVNode"])(u,{data:e.avgSySleepLog},null,8,["data"]),Object(n["createVNode"])(d,{option:o.pieoption,data:e.piedata},null,8,["option","data"]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.bardata,(function(e,t){return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:t,title:e.realname,timeslot:e.reference,status:e.status,backcolor:"#f2f2f2",onClickLabel:function(){return o.itemonPress(e)}},null,8,["title","timeslot","status","onClickLabel"])),[[n["vShow"],e.num]])})),128))]),Object(n["createVNode"])(m)])}var kt=a("2276"),St=kt.getHistorySleepByWeek,At=a("a27e"),Nt=At.HOST_H5,wt={name:"index",components:{SleepProportion:Je["a"],SleepHelp:ye,SleepAvgLabel:Ge["a"],SleepAvgNumAndDes:tt,SleepLocalData:ut},props:{subtractMonth:{type:Function,default:function(){}},addMonth:{type:Function,default:function(){}},startMonth:{type:String,default:""},endMonth:{type:String,default:""}},setup:function(e){var t=Object(Oe["d"])(),a=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,St(e.startMonth,e.endMonth);case 2:a=t.sent,a.data&&a.data.list&&a.data.list.length>0?(o(a.data),s(a.data),c(a.data),u(a.data),d(a.data,i)):r();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(e){for(var t=0,a=0;a<e.list.length;a++)0==e.list[a].sleepType&&(e.list[a].fallsleepduration||0),3!=e.list[a].dataSource?t+=e.list[a].fallsleepduration||0:t+=parseInt((e.list[a].endtime-e.list[a].starttime)/6e4+"");f.avgSySleepLog=t/e.list.length},r=function(){f.locadata.hour=0,f.locadata.min=0,v.value.series[0].data=0,v.value.series[1].data=0,v.value.series[2].data=0,v.value.series[3].data=0,v.value.series[4].data=0,v.value.series[5].data=0,v.value.series[6].data=0,f.piedata=[{color:"#9530F2",name:"深睡",time:"0",proportion:0},{color:"#CA31D9",name:"浅睡",time:"0",proportion:0},{color:"#FFBB20",name:"快速眠动",time:"0",proportion:0}],g.value.series[0].data[0].value=0,g.value.series[0].data[1].value=0,g.value.series[0].data[2].value=0,f.bardata=[],f.avgSySleepLog=0},i=[{name:"夜间睡眠",num:0,unit:"小时",reference:"7-9",status:"",statuscode:-1},{name:"深睡比例",num:0,unit:"%",reference:"20-60",status:"",statuscode:-1},{name:"浅睡比例",num:0,unit:"%",reference:"<50",status:"",statuscode:-1},{name:"快速眼动比例",num:0,unit:"%",reference:"10-30",status:"",statuscode:-1},{name:"深睡连续性",num:0,unit:"分",reference:"70-100",status:"",statuscode:-1},{name:"清醒次数",num:0,unit:"次",reference:"0-2",status:"",statuscode:-1}],s=function(e){f.locadata.hour=e.list[e.list.length-1].fallsleepduration?e.list[e.list.length-1].fallsleepduration/60:0,f.locadata.min=e.list[e.list.length-1].fallsleepduration?e.list[e.list.length-1].fallsleepduration%60:0},c=function(e){for(var t,a=[],n=[],o=[],r=[],i=[],l=[],s=[],c=[],u=[],d=0;d<e.list.length;d++){var p=Ie()(new Date(e.list[d].endtime)).format("YYYY-MM-DD");if(t==p){var m=l.length-1;a[m]=a[m]+(e.list[d].lightsleep||0),n[m]=n[m]+(e.list[d].deepsleep||0),o[m]=o[m]+(e.list[d].wakeduration||0),r[m]=r[m]+(e.list[d].rem||0),i[m]=i[m]+(e.list[d].middle||0),3==e.list[d].dataSource&&(s[m]=s[m]+parseInt((e.list[d].endtime-e.list[d].starttime)/6e4+"")),1==e.list[d].sleepType&&(c[m]=c[m]+parseInt(e.list[d].fallsleepduration||"0")),u[m]=u[m]+parseInt(e.list[d].fallsleepduration||"0")}else t=p,l.push(p),a.push(e.list[d].lightsleep||0),n.push(e.list[d].deepsleep||0),o.push(e.list[d].wakeduration||0),r.push(e.list[d].rem||0),i.push(e.list[d].middle||0),3==e.list[d].dataSource?s.push(parseInt((e.list[d].endtime-e.list[d].starttime)/6e4+"")):s.push(0),1==e.list[d].sleepType&&c.push(parseInt(e.list[d].fallsleepduration||"0")),u.push(parseInt(e.list[d].fallsleepduration||"0"))}v.value.xAxis[0].data=l,v.value.series[0].data=o,v.value.series[1].data=a,v.value.series[2].data=i,v.value.series[3].data=n,v.value.series[4].data=s,v.value.series[5].data=c,v.value.series[6].data=r},u=function(e){var t=0,a=0,n=0;if(e&&e.list){for(var o=0;o<e.list.length;o++)t+=e.list[o].lightsleep||0,a+=e.list[o].deepsleep||0,n+=e.list[o].rem||0;var r=f.piedata;r[0].time=a||0,r[1].time=t||0,r[2].time=n||0;var i=a+t+n;r[0].proportion=0!=i?a/i:0,r[1].proportion=0!=i?t/i:0,r[2].proportion=0!=i?n/i:0,f.piedata=r,g.value.series[0].data[0].value=a,g.value.series[0].data[1].value=t,g.value.series[0].data[2].value=n}},d=function(e,t){var a=0,n=0,o=0,r=0,i=0,l=0,s=0,c=0,u=0,d=0;if(e&&e.list){for(var b=0;b<e.list.length;b++)0==e.list[b].sleepType&&(a+=e.list[b].fallsleepduration||0,n++),o+=e.list[b].lightsleep||0,r+=e.list[b].deepsleep||0,i+=e.list[b].rem||0,l+=e.list[b].deepsleepcontinuity||0,e.list[b].deepsleepcontinuity&&s++,c+=e.list[b].wakes||0,e.list[b].wakes&&u++,d+=e.list[b].fallsleepduration||0;if(0!=n){var v=parseInt(a/n+"");t[0].num=v,p(t,0,420,540),m(t[0])}t[1].num=parseInt(r/d*100+""),p(t,1,20,60),m(t[1]),t[2].num=parseInt(o/d*100+""),p(t,2,0,50),m(t[2]),t[3].num=parseInt(i/d*100+""),p(t,3,10,30),m(t[3]),0!=s&&(t[4].num=parseInt(l/s+""),p(t,4,70,100),m(t[4])),0!=u&&(t[5].num=parseInt(c/u+""),p(t,5,0,2),m(t[5])),f.bardata=JSON.parse(JSON.stringify(t))}},p=function(e,t,a,n){e[t].num<a?(e[t].status="偏低",e[t].statuscode=0):e[t].num>n?(e[t].status="偏高",e[t].statuscode=2):(e[t].status="正常",e[t].statuscode=1)},m=function(e){e.num&&("夜间睡眠"==e.name||"平均夜间睡眠"==e.name?e.realname=e.name+parseInt(e.num/60+"")+"小时"+parseInt(e.num%60+"")+"分钟":e.realname=e.name+e.num+e.unit)};Object(n["onMounted"])(Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a();case 1:case"end":return e.stop()}}),e)})))),Object(n["watch"])((function(){return e.startMonth}),(function(e,t){a()}));var f=Object(n["reactive"])({selectdate:new Date,optiondata:{qingxing:[0,0,0,0,0,0,0],qianshui:[0,0,0,0,0,0,0],zhongshui:[0,0,0,0,0,0,0],shenshui:[0,0,0,0,0,0,0],shoudong:[0,0,0,0,0,0,0],xiaoshui:[0,0,0,0,0,0,0],miandong:[0,0,0,0,0,0,0]},bardata:[],piedata:[{color:"#9530F2",name:"深睡",time:"0",proportion:0},{color:"#CA31D9",name:"浅睡",time:"0",proportion:0},{color:"#FFBB20",name:"快速眠动",time:"0",proportion:0}],avgSySleepLog:0,locadata:{hour:0,min:0}}),b=function(e){f.selectdate=e},v=Object(n["ref"])({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){for(var t=[],a="",n=0;n<e.length;n++)t.push('<i style="display: inline-block;width: 10px;height: 10px;background: '+e[n].color+';margin-right: 5px;border-radius: 50%;}"></i><span style="width:70px; display:inline-block;">'+e[n].seriesName+"</span>"+e[n].value);return a=t.join("<br>"),'<div class="showBox">'+"<p>".concat(e[0].name,"</p>")+a+"</div>"}},legend:{data:["清醒","浅睡","中睡","深睡","手动录入","零星小睡","快速眼动"],icon:"circle",padding:10,textStyle:{fontSize:10},itemHeight:10},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["周一","周二","周三","周四","周五","周六","周日"],axisLabel:{interval:0}}],yAxis:[{type:"value"}],series:[{name:"清醒",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:f.optiondata.qingxing},{name:"浅睡",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:f.optiondata.qianshui},{name:"中睡",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:f.optiondata.zhongshui},{name:"深睡",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:f.optiondata.shenshui},{name:"手动录入",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:f.optiondata.shoudong},{name:"零星小睡",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:f.optiondata.xiaoshui},{name:"快速眼动",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:f.optiondata.miandong}]}),g=Object(n["ref"])({title:{text:"睡眠",subtext:"比例",left:"center",top:40,textStyle:{fontSize:12,fontWeight:"normal",width:20},subtextStyle:{fontSize:12,color:"#333333"}},color:["#C394F2","#E4A6F3","#FFBB20"],series:[{name:"睡眠比例",type:"pie",radius:["50%","80%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"inner",formatter:"{c}"}},itemStyle:{normal:{borderWidth:4,borderColor:"#ffffff"}},labelLine:{normal:{show:!1}},data:[{value:0,name:"深睡"},{value:0,name:"浅睡"},{value:0,name:"快速眠动"}]}]}),O=function(e,a){t.push({path:e,query:a||{}})},j=function(e){if("夜间睡眠"===e.name||"平均夜间睡眠"===e.name){var t=Math.floor(e.num/60),a=e.num%60,n=Nt+"/sleep/#/dayNight/".concat("7-9","/",t,"/").concat(a,"/").concat(e.statuscode);O("/sleep-night-detail",{url:n})}if("深睡比例"===e.name||"平均深睡比例"===e.name){var o=Nt+"/sleep/#/deepSleep/"+e.reference+"/"+e.num+e.unit+"/"+e.statuscode;O("/sleep-night-detail",{url:o})}if("浅睡比例"===e.name||"平均浅睡比例"===e.name){var r=Nt+"/sleep/#/shallowSleep/"+e.num+e.unit+"/"+e.statuscode;O("/sleep-night-detail",{url:r})}if("快速眼动比例"===e.name||"平均快速眼动比例"===e.name){var i=Nt+"/sleep/#/fastEyesRate/"+e.reference+"/"+e.num+e.unit+"/"+e.statuscode;O("/sleep-night-detail",{url:i})}if("深睡连续性"===e.name||"平均深睡连续性"===e.name){var l=Nt+"/sleep/#/deepSleepContinuance/"+e.reference+"/"+e.num+"/"+e.statuscode;O("/sleep-night-detail",{url:l})}if("清醒次数"===e.name||"平均清醒次数"===e.name){var s=Nt+"/sleep/#/wakeTimes/"+e.reference+"/"+e.num+"/"+e.statuscode;O("/sleep-night-detail",{url:s})}if("呼吸质量"===e.name){var c=Nt+"/sleep/#/breathQuality/"+e.reference+"/"+e.num+e.unit+"/"+e.statuscode;O("/sleep-night-detail",{url:c})}};return Object(l["a"])(Object(l["a"])({},Object(n["toRefs"])(f)),{},{onchange:b,option:v,pieoption:g,itemonPress:j})}};a("61b3");wt.render=yt,wt.__scopeId="data-v-1bcc6f33";var Dt=wt,Et={class:"sleep-Year"},Ct={class:"date-picker"},Vt={class:"div-echarts"},xt={class:"div-sleep-calc"};function Yt(e,t,a,o,r,i){var l=Object(n["resolveComponent"])("van-icon"),s=Object(n["resolveComponent"])("sleep-local-data"),c=Object(n["resolveComponent"])("v-chart"),u=Object(n["resolveComponent"])("sleep-avg-num-and-des"),d=Object(n["resolveComponent"])("sleep-proportion"),p=Object(n["resolveComponent"])("sleep-avg-label"),m=Object(n["resolveComponent"])("sleep-help");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",Et,[Object(n["createElementVNode"])("p",Ct,[Object(n["createVNode"])(l,{name:"arrow-left",size:"22",color:"#999",onClick:a.subtractYear},null,8,["onClick"]),Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(a.startYear.split("-").join("/"))+"-"+Object(n["toDisplayString"])(a.endYear.split("-").join("/")),1),Object(n["createVNode"])(l,{name:"arrow",size:"22",color:"#999",onClick:a.addYear},null,8,["onClick"])]),Object(n["createVNode"])(s,{time:a.endYear,hour:e.locadata.hour,min:e.locadata.min},null,8,["time","hour","min"]),Object(n["createElementVNode"])("div",Vt,[Object(n["createVNode"])(c,{class:"chart",option:o.option},null,8,["option"])]),Object(n["createElementVNode"])("div",xt,[Object(n["createVNode"])(u,{data:e.avgSySleepLog},null,8,["data"]),Object(n["createVNode"])(d,{option:o.pieoption,data:e.piedata},null,8,["option","data"]),(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(e.bardata,(function(e,t){return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:t,title:e.realname,timeslot:e.reference,status:e.status,backcolor:"#f2f2f2",onClickLabel:function(){return o.itemonPress(e)}},null,8,["title","timeslot","status","onClickLabel"])),[[n["vShow"],e.num]])})),128))]),Object(n["createVNode"])(m)])}var Bt=a("2276"),Mt=Bt.getHistorySleepByWeek,It=a("a27e"),Ft=It.HOST_H5,_t={name:"index",components:{SleepProportion:Je["a"],SleepHelp:ye,SleepAvgLabel:Ge["a"],SleepAvgNumAndDes:tt,SleepLocalData:ut},props:{subtractYear:{type:Function,default:function(){}},addYear:{type:Function,default:function(){}},startYear:{type:String,default:""},endYear:{type:String,default:""}},setup:function(e){var t=["","","","","","","","","","","",""],a=Object(Oe["d"])(),o=function(){var t=Object(h["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Mt(e.startYear,e.endYear);case 2:a=t.sent,a.data&&a.data.list&&a.data.list.length>0?(r(a.data),c(a.data),u(a.data),d(a.data),p(a.data,s)):i();case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r=function(e){for(var t=0,a=0;a<e.list.length;a++)0==e.list[a].sleepType&&(e.list[a].fallsleepduration||0),3!=e.list[a].dataSource?t+=e.list[a].fallsleepduration||0:t+=parseInt((e.list[a].endtime-e.list[a].starttime)/6e4+"");b.avgSySleepLog=t/e.list.length},i=function(){b.locadata.hour=0,b.locadata.min=0,g.value.series[0].data=0,g.value.series[1].data=0,g.value.series[2].data=0,g.value.series[3].data=0,g.value.series[4].data=0,g.value.series[5].data=0,g.value.series[6].data=0,b.piedata=[{color:"#9530F2",name:"深睡",time:"0",proportion:0},{color:"#CA31D9",name:"浅睡",time:"0",proportion:0},{color:"#FFBB20",name:"快速眠动",time:"0",proportion:0}],O.value.series[0].data[0].value=0,O.value.series[0].data[1].value=0,O.value.series[0].data[2].value=0,b.bardata=[],b.avgSySleepLog=0},s=[{name:"夜间睡眠",num:0,unit:"小时",reference:"7-9",status:"",statuscode:-1},{name:"深睡比例",num:0,unit:"%",reference:"20-60",status:"",statuscode:-1},{name:"浅睡比例",num:0,unit:"%",reference:"<50",status:"",statuscode:-1},{name:"快速眼动比例",num:0,unit:"%",reference:"10-30",status:"",statuscode:-1},{name:"深睡连续性",num:0,unit:"分",reference:"70-100",status:"",statuscode:-1},{name:"清醒次数",num:0,unit:"次",reference:"0-2",status:"",statuscode:-1}],c=function(e){b.locadata.hour=e.list[e.list.length-1].fallsleepduration?e.list[e.list.length-1].fallsleepduration/60:0,b.locadata.min=e.list[e.list.length-1].fallsleepduration?e.list[e.list.length-1].fallsleepduration%60:0},u=function(e){for(var a=[],n=[],o=[],r=[],i=[],l=[],s=[],c=[],u=0;u<12;u++)a.push(0),n.push(0),o.push(0),r.push(0),i.push(0),l.push(0),s.push(0),c.push(0);for(var d=0;d<e.list.length;d++){var p=new Date(e.list[d].endtime),m=Ie()(new Date(e.list[d].endtime)).format("YYYY-MM-DD"),f=p.getMonth();a[f]+=e.list[d].lightsleep||0,n[f]+=e.list[d].deepsleep||0,o[f]+=e.list[d].wakeduration||0,r[f]+=e.list[d].rem||0,i[f]+=e.list[d].middle||0,3==e.list[d].dataSource&&(l[f]+=parseInt((e.list[d].endtime-e.list[d].starttime)/6e4+"")),t[f]=m,1==e.list[d].sleepType&&(s[f]+=parseInt(e.list[d].fallsleepduration||"0")),c[f]+=parseInt(e.list[d].fallsleepduration||"0")}g.value.series[0].data=o,g.value.series[1].data=a,g.value.series[2].data=i,g.value.series[3].data=n,g.value.series[4].data=l,g.value.series[5].data=s,g.value.series[6].data=r},d=function(e){var t=0,a=0,n=0;if(e&&e.list){for(var o=0;o<e.list.length;o++)t+=e.list[o].lightsleep||0,a+=e.list[o].deepsleep||0,n+=e.list[o].rem||0;var r=b.piedata;r[0].time=a||0,r[1].time=t||0,r[2].time=n||0;var i=a+t+n;r[0].proportion=0!=i?a/i:0,r[1].proportion=0!=i?t/i:0,r[2].proportion=0!=i?n/i:0,b.piedata=r,O.value.series[0].data[0].value=a,O.value.series[0].data[1].value=t,O.value.series[0].data[2].value=n}},p=function(e,t){var a=0,n=0,o=0,r=0,i=0,l=0,s=0,c=0,u=0,d=0;if(e&&e.list){for(var p=0;p<e.list.length;p++)0==e.list[p].sleepType&&(a+=e.list[p].fallsleepduration||0,n++),o+=e.list[p].lightsleep||0,r+=e.list[p].deepsleep||0,i+=e.list[p].rem||0,l+=e.list[p].deepsleepcontinuity||0,e.list[p].deepsleepcontinuity&&s++,c+=e.list[p].wakes||0,e.list[p].wakes&&u++,d+=e.list[p].fallsleepduration||0;if(0!=n){var v=parseInt(a/n+"");t[0].num=v,m(t,0,420,540),f(t[0])}t[1].num=parseInt(r/d*100+""),m(t,1,20,60),f(t[1]),t[2].num=parseInt(o/d*100+""),m(t,2,0,50),f(t[2]),t[3].num=parseInt(i/d*100+""),m(t,3,10,30),f(t[3]),0!=s&&(t[4].num=parseInt(l/s+""),m(t,4,70,100),f(t[4])),0!=u&&(t[5].num=parseInt(c/u+""),m(t,5,0,2),f(t[5])),b.bardata=JSON.parse(JSON.stringify(t))}},m=function(e,t,a,n){e[t].num<a?(e[t].status="偏低",e[t].statuscode=0):e[t].num>n?(e[t].status="偏高",e[t].statuscode=2):(e[t].status="正常",e[t].statuscode=1)},f=function(e){e.num&&("夜间睡眠"==e.name||"平均夜间睡眠"==e.name?e.realname=e.name+parseInt(e.num/60+"")+"小时"+parseInt(e.num%60+"")+"分钟":e.realname=e.name+e.num+e.unit)};Object(n["onMounted"])(Object(h["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o();case 1:case"end":return e.stop()}}),e)})))),Object(n["watch"])((function(){return e.startYear}),(function(e,t){o()}));var b=Object(n["reactive"])({selectdate:new Date,optiondata:{qingxing:[0,0,0,0,0,0,0],qianshui:[0,0,0,0,0,0,0],zhongshui:[0,0,0,0,0,0,0],shenshui:[0,0,0,0,0,0,0],shoudong:[0,0,0,0,0,0,0],xiaoshui:[0,0,0,0,0,0,0],miandong:[0,0,0,0,0,0,0]},bardata:[],piedata:[{color:"#9530F2",name:"深睡",time:"0",proportion:0},{color:"#CA31D9",name:"浅睡",time:"0",proportion:0},{color:"#FFBB20",name:"快速眠动",time:"0",proportion:0}],avgSySleepLog:0,locadata:{hour:0,min:0}}),v=function(e){b.selectdate=e},g=Object(n["ref"])({tooltip:{trigger:"axis",axisPointer:{type:"shadow"},formatter:function(e){for(var t=[],a="",n=0;n<e.length;n++)t.push('<i style="display: inline-block;width: 10px;height: 10px;background: '+e[n].color+';margin-right: 5px;border-radius: 50%;}"></i><span style="width:70px; display:inline-block;">'+e[n].seriesName+"</span>"+e[n].value);return a=t.join("<br>"),'<div class="showBox">'+"<p>".concat(e[0].name,"</p>")+a+"</div>"}},legend:{data:["清醒","浅睡","中睡","深睡","手动录入","零星小睡","快速眼动"],icon:"circle",padding:10,textStyle:{fontSize:10},itemHeight:10},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],axisLabel:{interval:0}}],yAxis:[{type:"value"}],series:[{name:"清醒",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:b.optiondata.qingxing},{name:"浅睡",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:b.optiondata.qianshui},{name:"中睡",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:b.optiondata.zhongshui},{name:"深睡",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:b.optiondata.shenshui},{name:"手动录入",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:b.optiondata.shoudong},{name:"零星小睡",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:b.optiondata.xiaoshui},{name:"快速眼动",type:"bar",stack:"sleep",emphasis:{focus:"series"},data:b.optiondata.miandong}]}),O=Object(n["ref"])({title:{text:"睡眠",subtext:"比例",left:"center",top:40,textStyle:{fontSize:12,fontWeight:"normal",width:20},subtextStyle:{fontSize:12,color:"#333333"}},color:["#C394F2","#E4A6F3","#FFBB20"],series:[{name:"睡眠比例",type:"pie",radius:["50%","80%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"inner",formatter:"{c}"}},itemStyle:{normal:{borderWidth:4,borderColor:"#ffffff"}},labelLine:{normal:{show:!1}},data:[{value:0,name:"深睡"},{value:0,name:"浅睡"},{value:0,name:"快速眠动"}]}]}),j=function(e,t){a.push({path:e,query:t||{}})},y=function(e){if("夜间睡眠"===e.name||"平均夜间睡眠"===e.name){var t=Math.floor(e.num/60),a=e.num%60,n=Ft+"/sleep/#/dayNight/".concat("7-9","/",t,"/").concat(a,"/").concat(e.statuscode);j("/sleep-night-detail",{url:n})}if("深睡比例"===e.name||"平均深睡比例"===e.name){var o=Ft+"/sleep/#/deepSleep/"+e.reference+"/"+e.num+e.unit+"/"+e.statuscode;j("/sleep-night-detail",{url:o})}if("浅睡比例"===e.name||"平均浅睡比例"===e.name){var r=Ft+"/sleep/#/shallowSleep/"+e.num+e.unit+"/"+e.statuscode;j("/sleep-night-detail",{url:r})}if("快速眼动比例"===e.name||"平均快速眼动比例"===e.name){var i=Ft+"/sleep/#/fastEyesRate/"+e.reference+"/"+e.num+e.unit+"/"+e.statuscode;j("/sleep-night-detail",{url:i})}if("深睡连续性"===e.name||"平均深睡连续性"===e.name){var l=Ft+"/sleep/#/deepSleepContinuance/"+e.reference+"/"+e.num+"/"+e.statuscode;j("/sleep-night-detail",{url:l})}if("清醒次数"===e.name||"平均清醒次数"===e.name){var s=Ft+"/sleep/#/wakeTimes/"+e.reference+"/"+e.num+"/"+e.statuscode;j("/sleep-night-detail",{url:s})}if("呼吸质量"===e.name){var c=Ft+"/sleep/#/breathQuality/"+e.reference+"/"+e.num+e.unit+"/"+e.statuscode;j("/sleep-night-detail",{url:c})}};return Object(l["a"])(Object(l["a"])({},Object(n["toRefs"])(b)),{},{onchange:v,option:g,pieoption:O,itemonPress:y})}};a("3939");_t.render=Yt,_t.__scopeId="data-v-ee465bea";var Lt=_t,Rt={name:"index",components:{ChangeDevice:c["a"],sHeader:s["a"],SleepDay:Pe,SleepWeek:vt,SleepMonth:Dt,SleepYear:Lt},setup:function(){Object(n["onMounted"])((function(){}));var e=function(){},t=Object(n["reactive"])({index:0,startWeek:Ie()().subtract(6,"days").format("YYYY-MM-DD"),endWeek:Ie()().format("YYYY-MM-DD"),startMonth:Ie()().subtract(1,"months").format("YYYY-MM-DD"),endMonth:Ie()().format("YYYY-MM-DD"),startYear:Ie()().subtract(1,"years").format("YYYY-MM-DD"),endYear:Ie()().format("YYYY-MM-DD"),date:Ie()().format("YYYY-MM-DD")}),a=function(){var e=Ie()(t.date).subtract(1,"days").format("YYYY-MM-DD");t.date=e},o=function(){var e=Ie()().format("YYYY-MM-DD");if(t.date!==e){var a=Ie()(t.date).add(1,"days").format("YYYY-MM-DD");t.date=a}},r=function(e,a,n,o){var r=Ie()(t[e]).subtract(n,o).format("YYYY-MM-DD"),i=Ie()(t[a]).subtract(n,o).format("YYYY-MM-DD");t[e]=r,t[a]=i},i=function(e,a,n,o){var r=Ie()().format("YYYY-MM-DD");if(t[a]!==r){var i=Ie()(t[e]).add(n,o).format("YYYY-MM-DD"),l=Ie()(t[a]).add(n,o).format("YYYY-MM-DD");t[e]=i,t[a]=l}},s=function(){r("startWeek","endWeek",6,"days")},c=function(){i("startWeek","endWeek",6,"days")},u=function(){r("startMonth","endMonth",1,"months")},d=function(){i("startMonth","endMonth",1,"months")},p=function(){r("startYear","endYear",1,"years")},m=function(){i("startYear","endYear",1,"years")};return Object(l["a"])(Object(l["a"])({},Object(n["toRefs"])(t)),{},{rightPress:e,subtractDay:a,addDay:o,addWeek:c,subtractWeek:s,addMonth:d,subtractMonth:u,subtractYear:p,addYear:m})}};a("c171");Rt.render=i;t["default"]=Rt},6723:function(e,t,a){"use strict";a("0ac7")},"679d":function(e,t,a){"use strict";var n=a("7a23"),o={class:"div_item_left"},r={style:{"margin-left":"10px"}},i={class:"div_item_left_right_top"},l={class:"div_item_right"};function s(e,t,a,s,c,u){var d=Object(n["resolveComponent"])("van-icon");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:"div_item",style:Object(n["normalizeStyle"])({backgroundColor:a.backcolor}),onClick:t[0]||(t[0]=function(){return a.onClickLabel&&a.onClickLabel.apply(a,arguments)})},[Object(n["createElementVNode"])("div",o,[Object(n["createElementVNode"])("div",r,[Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(a.title),1)]),Object(n["withDirectives"])(Object(n["createElementVNode"])("span",{class:"span_item_left_right_bottom"},Object(n["toDisplayString"])(a.timeslot),513),[[n["vShow"],a.timeslot]])])]),Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("span",null,Object(n["toDisplayString"])(a.status),1),Object(n["createVNode"])(d,{size:"18px",color:"#999",name:"arrow"})])],4)}var c=a("5530"),u={name:"SleepAvgLabel",props:{title:{type:String,default:""},timeslot:{type:String,default:""},status:{type:String,default:""},backcolor:{type:String,default:"#FFFFFF"},onClickLabel:{type:Function,default:function(){}}},components:{},setup:function(){Object(n["onMounted"])((function(){}));var e=Object(n["reactive"])({todo:""});return Object(c["a"])({},Object(n["toRefs"])(e))}};a("fd59");u.render=s,u.__scopeId="data-v-2f2092cb";t["a"]=u},"726e":function(e,t,a){"use strict";a("a54f")},7326:function(e,t,a){e.exports=a.p+"static/img/group_five.88e8c023.png"},"734f":function(e,t,a){"use strict";a("e6b6")},"78d7":function(e,t,a){"use strict";a("5936")},"81d5":function(e,t,a){"use strict";var n=a("7b0b"),o=a("23cb"),r=a("50c4");e.exports=function(e){var t=n(this),a=r(t.length),i=arguments.length,l=o(i>1?arguments[1]:void 0,a),s=i>2?arguments[2]:void 0,c=void 0===s?a:o(s,a);while(c>l)t[l++]=e;return t}},"83e3":function(e,t,a){"use strict";a("f89c")},"95ea":function(e,t,a){"use strict";a("5be9")},9688:function(e,t,a){"use strict";a("2ff5")},"970e":function(e,t,a){"use strict";a("021c")},"97e1":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAANCAYAAACdKY9CAAAA7klEQVR4XmNgIAbs6TFl2NnzhGFXbzq6FHaws6uEYUf3f6CmuagSuyZLMRyaJIoitrNbDIivMezoi2I4M5MVWSIZaMIlsOTOnniw2P75HED2UaBTQhEKd/QJARWtAeLFDEfm8jIcnibIsKNnEVDhNiC9FkjXQAzs8WTYM0UYxFgOxNEIE6Bgd7c3w66eMjh/Z897oJgDQgEI7OqJBVrvhyoIBTu7P0A07O8RYfi/ihkquBRoUheYvbvXEOik6ZgaQMG1o1cfQ8OuXi8g/ylCA8xJg1JDLziGIYLRDDt7faBsDSC7Gq5hV08jw55+JQABFps69gAsqwAAAABJRU5ErkJggg=="},a068:function(e,t,a){"use strict";a("cb48")},a15b:function(e,t,a){"use strict";var n=a("23e7"),o=a("44ad"),r=a("fc6a"),i=a("a640"),l=[].join,s=o!=Object,c=i("join",",");n({target:"Array",proto:!0,forced:s||!c},{join:function(e){return l.call(r(this),void 0===e?",":e)}})},a54f:function(e,t,a){},a55a:function(e,t,a){"use strict";a("3bde")},b0c1:function(e,t,a){"use strict";a("1810")},b588:function(e,t,a){e.exports=a.p+"static/img/ic_service_right.8c702740.png"},c171:function(e,t,a){"use strict";a("cdf8")},c822:function(e,t,a){},cb29:function(e,t,a){var n=a("23e7"),o=a("81d5"),r=a("44d2");n({target:"Array",proto:!0},{fill:o}),r("fill")},cb48:function(e,t,a){},cdf8:function(e,t,a){},ce07:function(e,t,a){"use strict";a("e96f")},d61f:function(e,t,a){e.exports=a.p+"static/img/ic_service_left.adba658e.png"},e0d6:function(e,t,a){},e27e:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAU8AAAAQCAYAAACWYv1kAAACi0lEQVR4Xu2csS4EQRjH/18kouERRIPiChUPINF4A9EqJBQihFJ5IkFBolASEg+gEC/gGhLXaIg3cBvNcRmZXew53M7M7sSs/K+75P99++X/7f52ZnZ2BR2/6nVUkRfMKWAKSg0C6O/UmPxfG+/HZi0ykVppmDe1a31iQI7uV5SVgYbi2aEtHD+sGqrNZcybeqW90L+7GTE30FA5cqKYF0AuHwSRKDxCcCHA4fAJ6u32f3Zto656+54b2wKZV0CPYY9+lRFyiTW+fNC5Cc+vICoT7HXlhGfav1yQ6wKrovIK0FLAwWsLy5UzNPUhY3gm4IzOAUzmheZHvC9oMC9Hnj+do2Ub0RKeX7tYFOQ6z42i8wpw+dLCtAZoDM/q1dMeIAtFgdPniIvwJDwJz+wrtWhofByReWMn9kdPsSjxGmdT3RQxVW9vKSHHaft/gJyvES1HnuUceb5P11siGJPNWrSjlFrKvpfZKQhPwpPw7H7NcM2zPGuenZ0Uwa5Ua9EtlKrYoTFbTXgSnoQn4ZlNikRRtuUAAepSvWo0XLcjdTOG8CQ8CU/C87/CE3obE+HpF3K+biK6am5VSi9NX2uTvvJyzbO8a55x5TE8PU3bTe841Lk74BOe7lUx0tQBn2uepjVQ5+ZAPG339cDIrSRG2ThAeNq4FZ6W8AyvJ6YVJQ+MPG1VMi2COncHCE9370KIJDxD6IJ9Dfpto3irkg71sUneviRG2DpAeNo6Fpae8AyrHxbVJJvkdYCP1zMtCqHU0QHC09G4QMIIz0AaYVHGt9czU4AW92EQi3oodXSA8HQ0LpAwwjOQRhiU8euHQdpji/oknUE9lOR0gPDMaeAfhxOef9yArMNnfJLuDdarJsWQQLCbAAAAAElFTkSuQmCC"},e5f5:function(e,t,a){"use strict";a("0ad8")},e6b6:function(e,t,a){},e8df:function(e,t,a){"use strict";a("ff67")},e96f:function(e,t,a){},ec4d:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAU8AAAAQCAYAAACWYv1kAAADJElEQVR4Xu2csWsUQRTGv7mAEDB/gM1hE5sUVhbWYmNvIbYWBhQEEa1ErC6EoKAQC1uJkN5GrIWkErzGSmzS50yEyDHy7jLr3u1m93vRhX2bN80R9rs3782b/O7tzOwGzLXBzmgFwB0A14HYB7AkksdXlrC2O5qXl/6t0TZlW3yQ9u77I8rn2xfXG9FK5xrbrF5sSvv5+QkVn4jOXx1QelaXOtboWa3opP3avEnHJ8LF1W3qO6wuda7Rs1rRSXvzdI+K8e7zC41opXONbVYvNqV9uxWo+C5tRUrL6lKnGv2MNmIUAn4g4GMA3i5vYZgPJIvq2XB4bvGwvxFjXAWwMB+tBogarcOzOK8Y2Do8y/8fNeDSgJm1qwW4w/NvHlnIsbp/hufsFBv3gM2jMR6ubONILk3gOQHnQf9DRLx20k+EBogarcPT4Vk257zyLI6KpjrUaNlKMu8RY9985VkyMQPw6fcYNwSgE3iu7Y5exRjvVdXWGiBqtA5Ph6fD02/bZQ6wFSWr+8+VZzZNe8Dr5fe4H6ZrnPFL2a16flJrgKjROjwdng5Ph6cleAIY9wIuCzxfAPFBVdXZFOBSnxrYslrfMCpmVLNZ08RGlHik8UH0mnVJ0bNrk6wujaJGz2p9w2h2jrIVJatrqvIUuyHgpcDzKxBlh72ysdDSglarZ/1weDo8qyY0CziHZ/kontU1zzQaARiGwc7+fjqOVDXZWGhpYajVs344PB2eDk9uOUDGiYFhfjwZfRc3jLIxkGNMDs/pcDDHg9LAabRa26zejyqVo5GtKFmdV55eeZaOwBSe3G173W19265rK8+2+V/nz2ngWWezTddPe1SpTTHU+aJd86yz17br2sqzbf5X+XN8285tGFkKLC0FyCf7hJG1+Bye1jJW9NfhaTeHacOIOqpkLUyvPK1lbNZfrzxt50+873DlOT2qJEEyh+StpdLhaS1jDk/bGSt631V4ZofkJWTm8UxriXV4WsuYw9N2xs4GPAuPZ2YArXgxiLXEOjytZczhaTtjnYdn+YtB8mGf9Eo6a4l1eFrLmMPTdsY6CM+aV9L9AWpz5NB2tvhXAAAAAElFTkSuQmCC"},f89c:function(e,t,a){},fd59:function(e,t,a){"use strict";a("526e")},ff67:function(e,t,a){}}]);
//# sourceMappingURL=chunk-3b5a078c.b91308ba.js.map